!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=64)}([function(t,e,n){"use strict";var o=n(7),i=n(41),r={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function a(t){for(var e=f(),n=0,o=t.length;n<o;++n)O(e,t[n]);return e}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function c(t,e,n){var o,i;return(o=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*o+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function u(t,e){return h(t,e[0],e[1])}function l(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function h(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function p(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=e[0],c=e[1],u=r.UNKNOWN;return s<n?u|=r.LEFT:s>i&&(u|=r.RIGHT),c<o?u|=r.BELOW:c>a&&(u|=r.ABOVE),u===r.UNKNOWN&&(u=r.INTERSECTING),u}function f(){return[1/0,1/0,-1/0,-1/0]}function d(t,e,n,o,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=o,i):[t,e,n,o]}function g(t){return d(1/0,1/0,-1/0,-1/0,t)}function _(t,e){var n=t[0],o=t[1];return d(n,o,n,o,e)}function v(t,e){return E(g(e),t)}function y(t,e,n,o,i){return x(g(i),t,e,n,o)}function m(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function b(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function O(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e){for(var n=0,o=e.length;n<o;++n)O(t,e[n]);return t}function x(t,e,n,o,i){for(;n<o;n+=i)w(t,e[n],e[n+1]);return t}function w(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function T(t,e){var n;return(n=e(R(t)))?n:(n=e(j(t)))?n:(n=e(F(t)))?n:(n=e(I(t)))||!1}function C(t){var e=0;return N(t)||(e=k(t)*L(t)),e}function R(t){return[t[0],t[1]]}function j(t){return[t[2],t[1]]}function S(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function P(t,e){var n;return e===i.a.BOTTOM_LEFT?n=R(t):e===i.a.BOTTOM_RIGHT?n=j(t):e===i.a.TOP_LEFT?n=I(t):e===i.a.TOP_RIGHT?n=F(t):Object(o.a)(!1,13),n}function A(t,e,n,o,i){var r=e*o[0]/2,a=e*o[1]/2,s=Math.cos(n),c=Math.sin(n),u=r*s,l=r*c,h=a*s,p=a*c,f=t[0],g=t[1],_=f-u+p,v=f-u-p,y=f+u-p,m=f+u+p,b=g-l-h,O=g-l+h,E=g+l+h,x=g+l-h;return d(Math.min(_,v,y,m),Math.min(b,O,E,x),Math.max(_,v,y,m),Math.max(b,O,E,x),i)}function L(t){return t[3]-t[1]}function M(t,e,n){var o=n||[1/0,1/0,-1/0,-1/0];return D(t,e)?(t[0]>e[0]?o[0]=t[0]:o[0]=e[0],t[1]>e[1]?o[1]=t[1]:o[1]=e[1],t[2]<e[2]?o[2]=t[2]:o[2]=e[2],t[3]<e[3]?o[3]=t[3]:o[3]=e[3]):g(o),o}function I(t){return[t[0],t[3]]}function F(t){return[t[2],t[3]]}function k(t){return t[2]-t[0]}function D(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function N(t){return t[2]<t[0]||t[3]<t[1]}function G(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function z(t,e){var n=(t[2]-t[0])/2*(e-1),o=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=o,t[3]+=o}function U(t,e,n){var o=!1,i=p(t,e),a=p(t,n);if(i===r.INTERSECTING||a===r.INTERSECTING)o=!0;else{var s=t[0],c=t[1],u=t[2],l=t[3],h=e[0],f=e[1],d=n[0],g=n[1],_=(g-f)/(d-h),v=void 0,y=void 0;a&r.ABOVE&&!(i&r.ABOVE)&&(o=(v=d-(g-l)/_)>=s&&v<=u),o||!(a&r.RIGHT)||i&r.RIGHT||(o=(y=g-(d-u)*_)>=c&&y<=l),o||!(a&r.BELOW)||i&r.BELOW||(o=(v=d-(g-c)/_)>=s&&v<=u),o||!(a&r.LEFT)||i&r.LEFT||(o=(y=g-(d-s)*_)>=c&&y<=l)}return o}function K(t,e,n){var o=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(o,o,2),function(t,e,n){return d(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([o[0],o[2],o[4],o[6]],[o[1],o[3],o[5],o[7]],n)}n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"i",function(){return d}),n.d(e,"j",function(){return g}),n.d(e,"k",function(){return _}),n.d(e,"l",function(){return v}),n.d(e,"m",function(){return y}),n.d(e,"n",function(){return m}),n.d(e,"o",function(){return b}),n.d(e,"p",function(){return O}),n.d(e,"q",function(){return x}),n.d(e,"r",function(){return T}),n.d(e,"s",function(){return C}),n.d(e,"t",function(){return R}),n.d(e,"u",function(){return j}),n.d(e,"v",function(){return S}),n.d(e,"w",function(){return P}),n.d(e,"x",function(){return A}),n.d(e,"y",function(){return L}),n.d(e,"z",function(){return M}),n.d(e,"A",function(){return I}),n.d(e,"B",function(){return F}),n.d(e,"C",function(){return k}),n.d(e,"D",function(){return D}),n.d(e,"F",function(){return N}),n.d(e,"G",function(){return G}),n.d(e,"H",function(){return z}),n.d(e,"E",function(){return U}),n.d(e,"a",function(){return K})},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"e",function(){return h}),n.d(e,"d",function(){return p});var o=n(10);function i(t,e,n,o){for(var i,r=0,a=t.length;r<a;++r)if((i=t[r]).listener===e&&i.bindTo===n)return o&&(i.deleteIndex=r),i}function r(t,e){var n=a(t);return n?n[e]:void 0}function a(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function s(t,e){var n=r(t,e);if(n){for(var i=0,s=n.length;i<s;++i)t.removeEventListener(e,n[i].boundListener),Object(o.b)(n[i]);n.length=0;var c=a(t);c&&(delete c[e],0===Object.keys(c).length&&function(t){delete t.ol_lm}(t))}}function c(t,e,n,o,r){var s=a(t,!0),c=s[e];c||(c=s[e]=[]);var u=i(c,n,o,!1);return u?r||(u.callOnce=!1):(u={bindTo:o,callOnce:!!r,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,o=t.bindTo||t.target;return t.callOnce&&h(t),n.call(o,e)};return t.boundListener=e,e}(u)),c.push(u)),u}function u(t,e,n,o){return c(t,e,n,o,!0)}function l(t,e,n,o){var a=r(t,e);if(a){var s=i(a,n,o,!0);s&&h(s)}}function h(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=r(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&s(t.target,t.type)}Object(o.b)(t)}}function p(t){var e=a(t);if(e)for(var n in e)s(t,n)}},function(t,e,n){"use strict";function o(t,e,n){return Math.min(Math.max(t,e),n)}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"g",function(){return r}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return h});var i="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function r(t,e,n,o,i,r){var s=i-n,c=r-o;if(0!==s||0!==c){var u=((t-n)*s+(e-o)*c)/(s*s+c*c);u>1?(n=i,o=r):u>0&&(n+=s*u,o+=c*u)}return a(t,e,n,o)}function a(t,e,n,o){var i=n-t,r=o-e;return i*i+r*r}function s(t){for(var e=t.length,n=0;n<e;n++){for(var o=n,i=Math.abs(t[n][n]),r=n+1;r<e;r++){var a=Math.abs(t[r][n]);a>i&&(i=a,o=r)}if(0===i)return null;var s=t[o];t[o]=t[n],t[n]=s;for(var c=n+1;c<e;c++)for(var u=-t[c][n]/t[n][n],l=n;l<e+1;l++)n==l?t[c][l]=0:t[c][l]+=u*t[n][l]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h}function c(t){return 180*t/Math.PI}function u(t){return t*Math.PI/180}function l(t,e){var n=t%e;return n*e<0?n+e:n}function h(t,e,n){return t+n*(e-t)}},function(t,e,n){"use strict";function o(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,"b",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return a});var i=0;function r(t){return t.ol_uid||(t.ol_uid=String(++i))}var a="6.0.0-beta.12"},function(t,e,n){"use strict";e.a={CHANGE:"change",ERROR:"error",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"e",function(){return a}),n.d(e,"a",function(){return c}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"g",function(){return p});var o=n(7),i=new Array(6);function r(){return[1,0,0,1,0,0]}function a(t,e){var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5],c=e[0],u=e[1],l=e[2],h=e[3],p=e[4],f=e[5];return t[0]=n*c+i*u,t[1]=o*c+r*u,t[2]=n*l+i*h,t[3]=o*l+r*h,t[4]=n*p+i*f+a,t[5]=o*p+r*f+s,t}function s(t,e,n,o,i,r,a){return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=r,t[5]=a,t}function c(t,e){var n=e[0],o=e[1];return e[0]=t[0]*n+t[2]*o+t[4],e[1]=t[1]*n+t[3]*o+t[5],e}function u(t,e,n){return a(t,s(i,e,0,0,n,0,0))}function l(t,e,n,o,i,r,a,s){var c=Math.sin(r),u=Math.cos(r);return t[0]=o*u,t[1]=i*c,t[2]=-o*c,t[3]=i*u,t[4]=a*o*u-s*o*c+e,t[5]=a*i*c+s*i*u+n,t}function h(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];Object(o.a)(0!==i,32);var r=e[0],a=e[1],s=e[2],c=e[3],u=e[4],l=e[5];return t[0]=c/i,t[1]=-a/i,t[2]=-s/i,t[3]=r/i,t[4]=(s*l-c*u)/i,t[5]=-(r*l-a*u)/i,t}function p(t){return"matrix("+t.join(", ")+")"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(53);function i(t,e){if(!t)throw new o.a(e)}},function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";var o,i=n(47),r=(n(0),n(2)),a=n(15),s=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||a.a[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=6378137,l=Math.PI*u,h=[-l,-l,l,l],p=[-180,-85,180,85],f=function(t){function e(e){return t.call(this,{code:e,units:a.b.METERS,extent:h,global:!0,worldExtent:p,getPointResolution:function(t,e){return t/Object(r.b)(e[1]/u)}})||this}return c(e,t),e}(s),d=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];function g(t,e,n){var o=t.length,i=n>1?n:2,r=e;void 0===r&&(r=i>2?t.slice():new Array(o));for(var a=l,s=0;s<o;s+=i){r[s]=a*t[s]/180;var c=u*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));c>a?c=a:c<-a&&(c=-a),r[s+1]=c}return r}function _(t,e,n){var o=t.length,i=n>1?n:2,r=e;void 0===r&&(r=i>2?t.slice():new Array(o));for(var a=0;a<o;a+=i)r[a]=180*t[a]/l,r[a+1]=360*Math.atan(Math.exp(t[a+1]/u))/Math.PI-90;return r}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=[-180,-90,180,90],m=6378137*Math.PI/180,b=function(t){function e(e,n){return t.call(this,{code:e,units:a.b.DEGREES,extent:y,axisOrientation:n,global:!0,metersPerUnit:m,worldExtent:y})||this}return v(e,t),e}(s),O=[new b("CRS:84"),new b("EPSG:4326","neu"),new b("urn:ogc:def:crs:EPSG::4326","neu"),new b("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new b("urn:ogc:def:crs:OGC:1.3:CRS84"),new b("urn:ogc:def:crs:OGC:2:84"),new b("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new b("urn:x-ogc:def:crs:EPSG:4326","neu")],E=(n(10),{});function x(t,e,n){var o=t.getCode(),i=e.getCode();o in E||(E[o]={}),E[o][i]=n}var w,T,C,R={};function j(t,e,n){var o;if(void 0!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];o=e}else o=t.slice();return o}function S(t,e,n){if(void 0!==e&&t!==e){for(var o=0,i=t.length;o<i;++o)e[o]=t[o];t=e}return t}function P(t){!function(t,e){R[t]=e}(t.getCode(),t),x(t,t,j)}function A(t){return"string"==typeof t?R[t]||null:t||null}function L(t,e,n,o){var r,s=(t=A(t)).getPointResolutionFunc();if(s)r=s(e,n),o&&o!==t.getUnits()&&(c=t.getMetersPerUnit())&&(r=r*c/a.a[o]);else if(t.getUnits()==a.b.DEGREES&&!o||o==a.b.DEGREES)r=e;else{var c,u=k(t,A("EPSG:4326")),l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];l=u(l,l,2),r=(Object(i.a)(l.slice(0,2),l.slice(2,4))+Object(i.a)(l.slice(4,6),l.slice(6,8)))/2,void 0!==(c=o?a.a[o]:t.getMetersPerUnit())&&(r/=c)}return r}function M(t){!function(t){t.forEach(P)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&x(e,t,j)})})}function I(t,e){return t?"string"==typeof t?A(t):t:A(e)}function F(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:k(t,e)===j&&n}function k(t,e){var n=function(t,e){var n;return t in E&&e in E[t]&&(n=E[t][e]),n}(t.getCode(),e.getCode());return n||(n=S),n}function D(t,e){return k(A(t),A(e))}function N(t,e,n){return D(e,n)(t,void 0,t.length)}n.d(e,"d",function(){return A}),n.d(e,"e",function(){return L}),n.d(e,"b",function(){return I}),n.d(e,"c",function(){return F}),n.d(e,"f",function(){return D}),n.d(e,"g",function(){return N}),n.d(e,"a",function(){return a.a}),M(d),M(O),w=d,T=g,C=_,O.forEach(function(t){w.forEach(function(e){x(t,e,T),x(e,t,C)})})},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return a});var o="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1,i=arguments.length;o<i;++o){var r=arguments[o];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};function i(t){for(var e in t)delete t[e]}var r="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function a(t){var e;for(e in t)return!1;return!e}},function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},function(t,e,n){"use strict";function o(){return!0}function i(){return!1}function r(){}n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r})},function(t,e,n){"use strict";n.d(e,"b",function(){return f});var o,i=n(3),r=n(38),a=n(54),s=n(22),c=n(10),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.key=n,i.oldValue=o,i}return u(e,t),e}(s.a),h=function(t){function e(e){var n=t.call(this)||this;return Object(i.c)(n),n.values_={},void 0!==e&&n.setProperties(e),n}return u(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(c.a)({},this.values_)},e.prototype.notify=function(t,e){var n;n=f(t),this.dispatchEvent(new l(n,t,e)),n=r.a.PROPERTYCHANGE,this.dispatchEvent(new l(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var o=this.values_[t];this.values_[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(a.a),p={};function f(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}e.a=h},function(t,e,n){"use strict";var o,i=n(16),r=n(18),a=n(10),s=n(6),c=n(3),u=n(56),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this,e)||this;return n.consumers={},n}return l(e,t),e.prototype.clear=function(){this.consumers={},t.prototype.clear.call(this)},e.prototype.get=function(e,n){var o=t.prototype.get.call(this,e),i=Object(c.c)(n);return i in this.consumers||(this.consumers[i]={}),this.consumers[i][e]=!0,o},e.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var n=this.pop();for(var e in n.width=n.height=0,this.consumers)delete this.consumers[e][t]}},e.prototype.release=function(t){delete this.consumers[Object(c.c)(t)]},e}(u.a);n.d(e,"b",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return g}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return v}),n.d(e,"h",function(){return y}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return O}),n.d(e,"g",function(){return E}),n.d(e,"l",function(){return x}),n.d(e,"m",function(){return P});var p="10px sans-serif",f="#000",d="round",g=[],_=0,v="round",y=10,m="#000",b="center",O="middle",E=1,x=new h,w={},T=null,C={};!function(){var t,e,n=100,o=w,i="32px ",r=["monospace","serif"],s=r.length,c="wmytzilWMYTZIL@#/&?$%10";function u(t,n,o){for(var a=R(),u=!0,l=0;l<s;++l){var h=r[l];if(a.font=t+" "+n+" "+i+h,e=a.measureText(c).width,o!=h){a.font=t+" "+n+" "+i+o+","+h;var p=a.measureText(c).width;u=u&&p!=e}}return!!u}function l(){var e=!0;for(var i in o)o[i]<n&&(u.apply(this,i.split("\n"))?(o[i]=n,Object(a.b)(C),T=null,void 0,x.getCount()&&x.clear()):(++o[i],e=!1));e&&(clearInterval(t),t=void 0)}}();function R(){return T||(T=Object(r.a)(1,1)),T}var j,S;S=C;function P(t,e,n,o){0!==e&&(t.translate(n,o),t.rotate(e),t.translate(-n,-o))}Object(s.c)()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i={};i[o.DEGREES]=2*Math.PI*6370997/360,i[o.FEET]=.3048,i[o.METERS]=1,i[o.USFEET]=1200/3937,e.b=o},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"e",function(){return u});var o,i,r="ol-hidden",a="ol-unselectable",s="ol-control",c="ol-collapsed",u=(i={},function(t){if(o||(o=document.createElement("div").style),!(t in i)){o.font=t;var e=o.fontFamily,n=o.fontWeight,r=o.fontStyle;if(o.font="",!e)return null;var a=e.split(/,\s?/);i[t]={families:a,weight:n,style:r}}return i[t]})},function(t,e,n){"use strict";function o(t,e){return t>e?1:t<e?-1:0}function i(t,e,n){var o=t.length;if(t[0]<=e)return 0;if(e<=t[o-1])return o-1;var i=void 0;if(n>0){for(i=1;i<o;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<o;++i)if(t[i]<=e)return i}else for(i=1;i<o;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return o-1}function r(t,e){for(var n=Array.isArray(e)?e:[e],o=n.length,i=0;i<o;i++)t[t.length]=n[i]}function a(t,e){var n=t.indexOf(e),o=n>-1;return o&&t.splice(n,1),o}function s(t,e){var n=t.length;if(n!==e.length)return!1;for(var o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function c(t,e,n){var i=e||o;return t.every(function(e,o){if(0===o)return!0;var r=i(t[o-1],e);return!(r>0||n&&0===r)})}n.d(e,"e",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"f",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return c})},function(t,e,n){"use strict";function o(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function i(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function r(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function a(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function s(t,e){for(var n=t.childNodes,o=0;;++o){var i=n[o],r=e[o];if(!i&&!r)break;i!==r&&(i?r?t.insertBefore(r,i):(t.removeChild(i),--o):t.appendChild(r))}}n.d(e,"a",function(){return o}),n.d(e,"e",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s})},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"f",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return u});var o="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=-1!==o.indexOf("firefox"),r=-1!==o.indexOf("safari")&&-1==o.indexOf("chrom"),a=-1!==o.indexOf("webkit")&&-1==o.indexOf("edge"),s=-1!==o.indexOf("macintosh"),c=window.devicePixelRatio||1,u="undefined"!=typeof Image&&Image.prototype.decode},function(t,e,n){"use strict";function o(t){return Math.pow(t,3)}function i(t){return 1-o(1-t)}function r(t){return 3*t*t-2*t*t*t}function a(t){return t}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return a})},function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";var o=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();e.a=o},function(t,e,n){"use strict";function o(t){return t[0]>0&&t[1]>0}function i(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function r(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"e",function(){return h}),n.d(e,"d",function(){return p});var o=n(40);function i(t,e,n,o){for(var i,r=0,a=t.length;r<a;++r)if((i=t[r]).listener===e&&i.bindTo===n)return o&&(i.deleteIndex=r),i}function r(t,e){var n=a(t);return n?n[e]:void 0}function a(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function s(t,e){var n=r(t,e);if(n){for(var i=0,s=n.length;i<s;++i)t.removeEventListener(e,n[i].boundListener),Object(o.b)(n[i]);n.length=0;var c=a(t);c&&(delete c[e],0===Object.keys(c).length&&function(t){delete t.ol_lm}(t))}}function c(t,e,n,o,r){var s=a(t,!0),c=s[e];c||(c=s[e]=[]);var u=i(c,n,o,!1);return u?r||(u.callOnce=!1):(u={bindTo:o,callOnce:!!r,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,o=t.bindTo||t.target;return t.callOnce&&h(t),n.call(o,e)};return t.boundListener=e,e}(u)),c.push(u)),u}function u(t,e,n,o){return c(t,e,n,o,!0)}function l(t,e,n,o){var a=r(t,e);if(a){var s=i(a,n,o,!0);s&&h(s)}}function h(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=r(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&s(t.target,t.type)}Object(o.b)(t)}}function p(t){var e=a(t);if(e)for(var n in e)s(t,n)}},function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(t,e,n){"use strict";var o,i=n(43),r=n(1),a=n(12),s=n(22),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){var e=t.call(this)||this;return e.pendingRemovals_={},e.dispatching_={},e.listeners_={},e}return c(e,t),e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,n=e.type;e.target=this;var o,i=this.listeners_[n];if(i){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var r=0,c=i.length;r<c;++r)if(!1===i[r].call(this,e)||e.propagationStopped){o=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,a.c);delete this.dispatching_[n]}return o}},e.prototype.disposeInternal=function(){Object(r.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var o=n.indexOf(e);t in this.pendingRemovals_?(n[o]=a.c,++this.pendingRemovals_[t]):(n.splice(o,1),0===n.length&&delete this.listeners_[t])}},e}(i.a);e.a=u},function(t,e,n){"use strict";n(2);function o(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function i(t,e){for(var n=!0,o=t.length-1;o>=0;--o)if(t[o]!=e[o]){n=!1;break}return n}function r(t,e){var n=Math.cos(e),o=Math.sin(e),i=t[0]*n-t[1]*o,r=t[1]*n+t[0]*o;return t[0]=i,t[1]=r,t}function a(t,e){return t[0]*=e,t[1]*=e,t}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return a})},function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";e.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";function o(t,e,n,o,i,r){for(var a=r||[],s=0,c=e;c<n;c+=o){var u=t[c],l=t[c+1];a[s++]=i[0]*u+i[2]*l+i[4],a[s++]=i[1]*u+i[3]*l+i[5]}return r&&a.length!=s&&(a.length=s),a}function i(t,e,n,o,i,r,a){for(var s=a||[],c=Math.cos(i),u=Math.sin(i),l=r[0],h=r[1],p=0,f=e;f<n;f+=o){var d=t[f]-l,g=t[f+1]-h;s[p++]=l+d*c-g*u,s[p++]=h+d*u+g*c;for(var _=f+2;_<f+o;++_)s[p++]=t[_]}return a&&s.length!=p&&(s.length=p),s}function r(t,e,n,o,i,r,a,s){for(var c=s||[],u=a[0],l=a[1],h=0,p=e;p<n;p+=o){var f=t[p]-u,d=t[p+1]-l;c[h++]=u+i*f,c[h++]=l+r*d;for(var g=p+2;g<p+o;++g)c[h++]=t[g]}return s&&c.length!=h&&(c.length=h),c}function a(t,e,n,o,i,r,a){for(var s=a||[],c=0,u=e;u<n;u+=o){s[c++]=t[u]+i,s[c++]=t[u+1]+r;for(var l=u+2;l<u+o;++l)s[c++]=t[l]}return a&&s.length!=c&&(s.length=c),s}n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"d",function(){return a})},function(t,e,n){"use strict";var o=n(46),i="postrender",r=n(45),a="propertychange",s=n(50),c=n(59),u=n(40),l=function(t){function e(e,n,o){t.call(this,e),this.key=n,this.oldValue=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.a),h=function(t){function e(e){t.call(this),Object(r.b)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(u.a)({},this.values_)},e.prototype.notify=function(t,e){var n;n=function(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}(t),this.dispatchEvent(new l(n,t,e)),n=a,this.dispatchEvent(new l(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var o=this.values_[t];this.values_[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(s.a),p={};var f=h;function d(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var g=n(24),_=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:o.a,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){d(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&d(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(g.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.a&&this.listenerKeys.push(Object(g.a)(t,i,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(f);e.a=_},function(t,e,n){"use strict";var o,i=n(12),r=n(44),a=n(13),s=n(18),c=n(1),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=e.render?e.render:i.c,e.target&&n.setTarget(e.target),n}return u(e,t),e.prototype.disposeInternal=function(){Object(s.c)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(s.c)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(c.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==i.c&&this.listenerKeys.push(Object(c.a)(t,r.a.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(a.a);e.a=l},function(t,e,n){"use strict";window.ol&&!ol.ext&&(ol.ext={});var o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=o)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),e.a=o},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var o=n(2);function i(t){return void 0!==t?0:void 0}function r(t){return void 0!==t?t:void 0}function a(t){var e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function s(t){var e=t||Object(o.i)(5);return function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}},function(t,e,n){"use strict";n.d(e,"b",function(){return d});var o,i=n(1),r=n(4),a=n(13),s=n(55),c=n(11),u=n(10),l=n(30),h=n(29),p=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n=this,o=Object(u.a)({},e);delete o.source,(n=t.call(this,o)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),Object(i.a)(n,Object(a.b)(c.a.SOURCE),n.handleSourcePropertyChange_,n);var r=e.source?e.source:null;return n.setSource(r),n}return p(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(c.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.a)(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.a)(t,l.a.PRECOMPOSE,function(t){t.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=Object(i.a)(this,r.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(c.a.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e}(s.a);function d(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var o=e.zoom;return o>t.minZoom&&o<=t.maxZoom}e.a=f},function(t,e,n){"use strict";var o,i=n(3),r=n(0),a=n(13),s=n(31),c=n(9),u=n(15),l=n(6),h=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=Object(l.c)(),f=function(t){function e(){var e=t.call(this)||this;return e.extent_=Object(r.h)(),e.extentRevision_=-1,e.simplifiedGeometryCache={},e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e}return h(e,t),e.prototype.clone=function(){return Object(i.b)()},e.prototype.closestPointXY=function(t,e,n,o){return Object(i.b)()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(r.G)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.b)()},e.prototype.scale=function(t,e,n){Object(i.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.b)()},e.prototype.getType=function(){return Object(i.b)()},e.prototype.applyTransform=function(t){Object(i.b)()},e.prototype.intersectsExtent=function(t){return Object(i.b)()},e.prototype.translate=function(t,e){Object(i.b)()},e.prototype.transform=function(t,e){var n=Object(c.d)(t),o=n.getUnits()==u.b.TILE_PIXELS?function(t,o,i){var a=n.getExtent(),u=n.getWorldExtent(),h=Object(r.y)(u)/Object(r.y)(a);return Object(l.b)(p,u[0],u[3],h,-h,0,0,0),Object(s.c)(t,0,t.length,i,p,o),Object(c.f)(n,e)(t,o,i)}:Object(c.f)(n,e);return this.applyTransform(o),this},e}(a.a),d=n(21),g=n(10);n.d(e,"b",function(){return m});var _=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),v=function(t){function e(){var e=t.call(this)||this;return e.layout=d.a.XY,e.stride=2,e.flatCoordinates=null,e}return _(e,t),e.prototype.computeExtent=function(t){return Object(r.m)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(g.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=y(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.b)()},e.prototype.setLayout=function(t,e,n){var o;if(t)o=y(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=d.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=d.a.XY:3==t?e=d.a.XYZ:4==t&&(e=d.a.XYZM);return e}(o=e.length)}this.layout=t,this.stride=o},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var o=this.getStride();Object(s.a)(n,0,n.length,o,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var o=e;void 0===o&&(o=t);var i=n;i||(i=Object(r.v)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var c=this.getStride();Object(s.b)(a,0,a.length,c,t,o,i,a),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var o=this.getStride();Object(s.d)(n,0,n.length,o,t,e,n),this.changed()}},e}(f);function y(t){var e;return t==d.a.XY?e=2:t==d.a.XYZ||t==d.a.XYM?e=3:t==d.a.XYZM&&(e=4),e}function m(t,e,n){var o=t.getFlatCoordinates();if(o){var i=t.getStride();return Object(s.c)(o,0,o.length,i,e,n)}return null}e.a=v},function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var o=42,i=256},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r});var o="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1,r=arguments.length;i<r;++i){var a=n[i];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(o[s]=a[s])}return o};function i(t){for(var e in t)delete t[e]}function r(t){var e;for(e in t)return!1;return!e}},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=function(){function t(t,e,n,o){this.minX=t,this.maxX=e,this.minY=n,this.maxY=o}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function i(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new o(t,e,n,i)}e.b=o},function(t,e,n){"use strict";var o=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();e.a=o},function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var o=0;function i(t){return t.ol_uid||(t.ol_uid=String(++o))}var r="5.3.3"},function(t,e,n){"use strict";function o(){}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var o=n(2),i=(n(8),6371008.8);function r(t,e,n){var r=n||i,a=Object(o.i)(t[1]),s=Object(o.i)(e[1]),c=(s-a)/2,u=Object(o.i)(e[0]-t[0])/2,l=Math.sin(c)*Math.sin(c)+Math.sin(u)*Math.sin(u)*Math.cos(a)*Math.cos(s);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function a(t,e,n,r){var a=r||i,s=Object(o.i)(t[1]),c=Object(o.i)(t[0]),u=e/a,l=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(n)),h=c+Math.atan2(Math.sin(n)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(l));return[Object(o.h)(h),Object(o.h)(l)]}},function(t,e,n){"use strict";var o=n(45);Error;var i="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},a={};a[r.DEGREES]=2*Math.PI*6370997/360,a[r.FEET]=.3048,a[r.METERS]=1,a[r.USFEET]=1200/3937;var s=r,c=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};c.prototype.canWrapX=function(){return this.canWrapX_},c.prototype.getCode=function(){return this.code_},c.prototype.getExtent=function(){return this.extent_},c.prototype.getUnits=function(){return this.units_},c.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||a[this.units_]},c.prototype.getWorldExtent=function(){return this.worldExtent_},c.prototype.getAxisOrientation=function(){return this.axisOrientation_},c.prototype.isGlobal=function(){return this.global_},c.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},c.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},c.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},c.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},c.prototype.setWorldExtent=function(t){this.worldExtent_=t},c.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},c.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var u=c,l=6378137,h=Math.PI*l,p=[-h,-h,h,h],f=[-180,-85,180,85],d=function(t){function e(e){t.call(this,{code:e,units:s.METERS,extent:p,global:!0,worldExtent:f,getPointResolution:function(t,e){return t/i(e[1]/l)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u),g=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("urn:ogc:def:crs:EPSG:6.18:3:3857"),new d("urn:ogc:def:crs:EPSG::3857"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function _(t,e,n){var o=t.length,i=n>1?n:2,r=e;void 0===r&&(r=i>2?t.slice():new Array(o));for(var a=h,s=0;s<o;s+=i){r[s]=a*t[s]/180;var c=l*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));c>a?c=a:c<-a&&(c=-a),r[s+1]=c}return r}function v(t,e,n){var o=t.length,i=n>1?n:2,r=e;void 0===r&&(r=i>2?t.slice():new Array(o));for(var a=0;a<o;a+=i)r[a]=180*t[a]/h,r[a+1]=360*Math.atan(Math.exp(t[a+1]/l))/Math.PI-90;return r}var y=[-180,-90,180,90],m=6378137*Math.PI/180,b=function(t){function e(e,n){t.call(this,{code:e,units:s.DEGREES,extent:y,axisOrientation:n,global:!0,metersPerUnit:m,worldExtent:y})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u),O=[new b("CRS:84"),new b("EPSG:4326","neu"),new b("urn:ogc:def:crs:EPSG::4326","neu"),new b("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new b("urn:ogc:def:crs:OGC:1.3:CRS84"),new b("urn:ogc:def:crs:OGC:2:84"),new b("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new b("urn:x-ogc:def:crs:EPSG:4326","neu")],E={};n(40);var x,w,T,C={};function R(t,e,n){var o=t.getCode(),i=e.getCode();o in C||(C[o]={}),C[o][i]=n}function j(t,e,n){var o;if(void 0!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];o=e}else o=t.slice();return o}function S(t,e,n){if(void 0!==e&&t!==e){for(var o=0,i=t.length;o<i;++o)e[o]=t[o];t=e}return t}function P(t){!function(t,e){E[t]=e}(t.getCode(),t),R(t,t,j)}function A(t){return"string"==typeof t?E[t]||null:t||null}function L(t){!function(t){t.forEach(P)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&R(e,t,j)})})}function M(t,e){var n=function(t,e){var n;return t in C&&e in C[t]&&(n=C[t][e]),n}(t.getCode(),e.getCode());return n||(n=S),n}function I(t,e){return M(A(t),A(e))}function F(t,e,n){return I(e,n)(t,void 0,t.length)}n.d(e,"a",function(){return F}),L(g),L(O),x=g,w=_,T=v,O.forEach(function(t){x.forEach(function(e){R(t,e,w),R(e,t,T)})})},function(t,e,n){"use strict";var o=n(17),i=n(0),r=n(21),a=n(8),s=n(37);function c(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o){var s=t[e],c=t[e+1];i+=a*s-r*c,r=s,a=c}return i/2}function u(t,e,n,o){for(var i=0,r=0,a=n.length;r<a;++r){var s=n[r];i+=c(t,e,s,o),e=s}return i}var l=n(2);function h(t,e,n,o,i,r,a){var s,c=t[e],u=t[e+1],h=t[n]-c,p=t[n+1]-u;if(0===h&&0===p)s=e;else{var f=((i-c)*h+(r-u)*p)/(h*h+p*p);if(f>1)s=n;else{if(f>0){for(var d=0;d<o;++d)a[d]=Object(l.c)(t[e+d],t[n+d],f);return void(a.length=o)}s=e}}for(d=0;d<o;++d)a[d]=t[s+d];a.length=o}function p(t,e,n,o,i){var r=t[e],a=t[e+1];for(e+=o;e<n;e+=o){var s=t[e],c=t[e+1],u=Object(l.f)(r,a,s,c);u>i&&(i=u),r=s,a=c}return i}function f(t,e,n,o,i){for(var r=0,a=n.length;r<a;++r){var s=n[r];i=p(t,e,s,o,i),e=s}return i}function d(t,e,n,o,i,r,a,s,c,u,p){if(e==n)return u;var f,d;if(0===i){if((d=Object(l.f)(a,s,t[e],t[e+1]))<u){for(f=0;f<o;++f)c[f]=t[e+f];return c.length=o,d}return u}for(var g=p||[NaN,NaN],_=e+o;_<n;)if(h(t,_-o,_,o,a,s,g),(d=Object(l.f)(a,s,g[0],g[1]))<u){for(u=d,f=0;f<o;++f)c[f]=g[f];c.length=o,_+=o}else _+=o*Math.max((Math.sqrt(d)-Math.sqrt(u))/i|0,1);if(r&&(h(t,n-o,e,o,a,s,g),(d=Object(l.f)(a,s,g[0],g[1]))<u)){for(u=d,f=0;f<o;++f)c[f]=g[f];c.length=o}return u}function g(t,e,n,o,i,r,a,s,c,u,l){for(var h=l||[NaN,NaN],p=0,f=n.length;p<f;++p){var g=n[p];u=d(t,e,g,o,i,r,a,s,c,u,h),e=g}return u}function _(t,e,n,o){for(var i=0,r=n.length;i<r;++i)for(var a=n[i],s=0;s<o;++s)t[e++]=a[s];return e}function v(t,e,n,o,i){for(var r=i||[],a=0,s=0,c=n.length;s<c;++s){var u=_(t,e,n[s],o);r[a++]=u,e=u}return r.length=a,r}function y(t,e,n,o,i){for(var r=void 0!==i?i:[],a=0,s=e;s<n;s+=o)r[a++]=t.slice(s,s+o);return r.length=a,r}function m(t,e,n,o,i){for(var r=void 0!==i?i:[],a=0,s=0,c=n.length;s<c;++s){var u=n[s];r[a++]=y(t,e,u,o,r[a]),e=u}return r.length=a,r}function b(t,e,n,o,i,r,a){var s=(n-e)/o;if(s<3){for(;e<n;e+=o)r[a++]=t[e],r[a++]=t[e+1];return a}var c=new Array(s);c[0]=1,c[s-1]=1;for(var u=[e,n-o],h=0;u.length>0;){for(var p=u.pop(),f=u.pop(),d=0,g=t[f],_=t[f+1],v=t[p],y=t[p+1],m=f+o;m<p;m+=o){var b=t[m],O=t[m+1],E=Object(l.g)(b,O,g,_,v,y);E>d&&(h=m,d=E)}d>i&&(c[(h-e)/o]=1,f+o<h&&u.push(f,h),h+o<p&&u.push(h,p))}for(m=0;m<s;++m)c[m]&&(r[a++]=t[e+m*o],r[a++]=t[e+m*o+1]);return a}function O(t,e){return e*Math.round(t/e)}function E(t,e,n,o,i,r,a){if(e==n)return a;var s,c,u=O(t[e],i),l=O(t[e+1],i);e+=o,r[a++]=u,r[a++]=l;do{if(s=O(t[e],i),c=O(t[e+1],i),(e+=o)==n)return r[a++]=s,r[a++]=c,a}while(s==u&&c==l);for(;e<n;){var h=O(t[e],i),p=O(t[e+1],i);if(e+=o,h!=s||p!=c){var f=s-u,d=c-l,g=h-u,_=p-l;f*_==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&_<d||d==_||d>0&&_>d)?(s=h,c=p):(r[a++]=s,r[a++]=c,u=s,l=c,s=h,c=p)}}return r[a++]=s,r[a++]=c,a}function x(t,e,n,o,i,r,a,s){for(var c=0,u=n.length;c<u;++c){var l=n[c];a=E(t,e,l,o,i,r,a),s.push(a),e=l}return a}var w,T=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),C=function(t){function e(e,n){var o=t.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?o.setCoordinates(e,n):o.setFlatCoordinates(n,e),o}return T(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,o){return o<Object(i.d)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(p(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,o))},e.prototype.getArea=function(){return c(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return y(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=b(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,r.a.XY)},e.prototype.getType=function(){return a.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),j=function(t){function e(e,n){var o=t.call(this)||this;return o.setCoordinates(e,n),o}return R(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,o){var i=this.flatCoordinates,r=Object(l.f)(t,e,i[0],i[1]);if(r<o){for(var a=this.stride,s=0;s<a;++s)n[s]=i[s];return n.length=a,r}return o},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i.k)(this.flatCoordinates,t)},e.prototype.getType=function(){return a.a.POINT},e.prototype.intersectsExtent=function(t){return Object(i.g)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,o){for(var i=0,r=n.length;i<r;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);n(47);function S(t,e,n,o,r){return!Object(i.r)(r,function(i){return!P(t,e,n,o,i[0],i[1])})}function P(t,e,n,o,i,r){for(var a=0,s=t[n-o],c=t[n-o+1];e<n;e+=o){var u=t[e],l=t[e+1];c<=r?l>r&&(u-s)*(r-c)-(i-s)*(l-c)>0&&a++:l<=r&&(u-s)*(r-c)-(i-s)*(l-c)<0&&a--,s=u,c=l}return 0!==a}function A(t,e,n,o,i,r){if(0===n.length)return!1;if(!P(t,e,n[0],o,i,r))return!1;for(var a=1,s=n.length;a<s;++a)if(P(t,n[a-1],n[a],o,i,r))return!1;return!0}function L(t,e,n,i,r,a,s){for(var c,u,l,h,p,f,d,g=r[a+1],_=[],v=0,y=n.length;v<y;++v){var m=n[v];for(h=t[m-i],f=t[m-i+1],c=e;c<m;c+=i)p=t[c],d=t[c+1],(g<=f&&d<=g||f<=g&&g<=d)&&(l=(g-f)/(d-f)*(p-h)+h,_.push(l)),h=p,f=d}var b=NaN,O=-1/0;for(_.sort(o.e),h=_[0],c=1,u=_.length;c<u;++c){p=_[c];var E=Math.abs(p-h);E>O&&A(t,e,n,i,l=(h+p)/2,g)&&(b=l,O=E),h=p}return isNaN(b)&&(b=r[a]),s?(s.push(b,g,O),s):[b,g,O]}function M(t,e,n,o,r){var a=Object(i.q)(Object(i.h)(),t,e,n,o);return!!Object(i.D)(r,a)&&(!!Object(i.f)(r,a)||(a[0]>=r[0]&&a[2]<=r[2]||(a[1]>=r[1]&&a[3]<=r[3]||function(t,e,n,o,i){for(var r,a=[t[e],t[e+1]],s=[];e+o<n;e+=o){if(s[0]=t[e+o],s[1]=t[e+o+1],r=i(a,s))return r;a[0]=s[0],a[1]=s[1]}return!1}(t,e,n,o,function(t,e){return Object(i.E)(r,t,e)}))))}function I(t,e,n,o,i){if(!function(t,e,n,o,i){return!!M(t,e,n,o,i)||(!!P(t,e,n,o,i[0],i[1])||(!!P(t,e,n,o,i[0],i[3])||(!!P(t,e,n,o,i[2],i[1])||!!P(t,e,n,o,i[2],i[3]))))}(t,e,n[0],o,i))return!1;if(1===n.length)return!0;for(var r=1,a=n.length;r<a;++r)if(S(t,n[r-1],n[r],o,i)&&!M(t,n[r-1],n[r],o,i))return!1;return!0}function F(t,e,n,o){for(;e<n-o;){for(var i=0;i<o;++i){var r=t[e+i];t[e+i]=t[n-o+i],t[n-o+i]=r}e+=o,n-=o}}function k(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o){var s=t[e],c=t[e+1];i+=(s-r)*(c+a),r=s,a=c}return i>0}function D(t,e,n,o,i){for(var r=void 0!==i&&i,a=0,s=n.length;a<s;++a){var c=n[a],u=k(t,e,c,o);if(0===a){if(r&&u||!r&&!u)return!1}else if(r&&!u||!r&&u)return!1;e=c}return!0}function N(t,e,n,o,i){for(var r=void 0!==i&&i,a=0,s=n.length;a<s;++a){var c=n[a],u=k(t,e,c,o);(0===a?r&&u||!r&&!u:r&&!u||!r&&u)&&F(t,e,c,o),e=c}return e}n.d(e,"b",function(){return U});var G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),z=function(t){function e(e,n,o){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&o?(i.setFlatCoordinates(n,e),i.ends_=o):i.setCoordinates(e,n),i}return G(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(o.b)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,o){return o<Object(i.d)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(f(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),g(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,o))},e.prototype.containsXY=function(t,e){return A(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return u(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?N(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,m(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(i.v)(this.getExtent());this.flatInteriorPoint_=L(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new j(this.getFlatInteriorPoint(),r.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new C(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,o=[],i=0,r=0,a=n.length;r<a;++r){var s=n[r],c=new C(e.slice(i,s),t);o.push(c),i=s}return o},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;D(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=N(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],o=[];return n.length=x(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,o),new e(n,r.a.XY,o)},e.prototype.getType=function(){return a.a.POLYGON},e.prototype.intersectsExtent=function(t){return I(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=v(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(s.a);e.a=z;function U(t){var e=t[0],n=t[1],o=t[2],i=t[3],a=[e,n,e,i,o,i,o,n,e,n];return new z(a,r.a.XY,[a.length])}},function(t,e,n){"use strict";var o=n(24),i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){};var r=i,a=n(46),s=n(59),c=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,n=e.type;e.target=this;var o,i=this.listeners_[n];if(i){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var r=0,c=i.length;r<c;++r)if(!1===i[r].call(this,e)||e.propagationStopped){o=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,a.a);delete this.dispatching_[n]}return o}},e.prototype.disposeInternal=function(){Object(o.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var o=n.indexOf(e);t in this.pendingRemovals_?(n[o]=a.a,++this.pendingRemovals_[t]):(n.splice(o,1),0===n.length&&delete this.listeners_[t])}},e}(r),u="change";n.d(e,"b",function(){return h});var l=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(u)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=Object(o.a)(this,t[r],e);return i}return Object(o.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=Object(o.b)(this,t[r],e);return i}return Object(o.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)Object(o.c)(this,t[n],e);else Object(o.c)(this,t,e)},e}(c);function h(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Object(o.e)(t[e]);else Object(o.e)(t)}e.a=l},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),r=o.sources.map(function(t){return"/*# sourceURL=".concat(o.sourceRoot).concat(t," */")});return[n].concat(r).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(var a=0;a<t.length;a++){var s=t[a];null!=s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){var o,i,r={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),c=null,u=0,l=[],h=n(80);function p(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(y(o.parts[a],e))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(y(o.parts[a],e));r[o.id]={id:o.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function d(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function _(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return n.nc}();o&&(t.attrs.nonce=o)}return v(e,t.attrs),d(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,o,i,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var a=u++;n=c||(c=_(e)),o=O.bind(null,n,a,!1),i=O.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),d(t,e),e}(e),o=function(t,e,n){var o=n.css,i=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(o=h(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=_(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){g(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return p(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}t&&p(f(t,e),e);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete r[s.id]}}}};var m,b=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function O(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}},function(t,e,n){"use strict";var o,i=n(3),r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=this,o="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,o)||this).code=e,n.name="AssertionError",n.message=o,n}return r(e,t),e}(Error);e.a=a},function(t,e,n){"use strict";var o,i=n(1),r=n(27),a=n(4),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return s(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(a.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,o=new Array(n),r=0;r<n;++r)o[r]=Object(i.a)(this,t[r],e);return o}return Object(i.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,o=new Array(n),r=0;r<n;++r)o[r]=Object(i.b)(this,t[r],e);return o}return Object(i.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,o=t.length;n<o;++n)Object(i.c)(this,t[n],e);else Object(i.c)(this,t,e)},e}(r.a);e.a=c},function(t,e,n){"use strict";var o,i=n(3),r=n(13),a=n(11),s=n(2),c=n(10),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this)||this,o=Object(c.a)({},e);return o[a.a.OPACITY]=void 0!==e.opacity?e.opacity:1,o[a.a.VISIBLE]=void 0===e.visible||e.visible,o[a.a.Z_INDEX]=e.zIndex,o[a.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,o[a.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,o[a.a.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,o[a.a.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==o.className?e.className:"ol-layer",delete o.className,n.setProperties(o),n.state_=null,n}return u(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t,hasOverlay:!1};return e.opacity=Object(s.a)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=this.getZIndex()||(!1===e.managed?1/0:0),e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Object(i.b)()},e.prototype.getLayerStatesArray=function(t){return Object(i.b)()},e.prototype.getExtent=function(){return this.get(a.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(a.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(a.a.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(a.a.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(a.a.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(a.a.OPACITY)},e.prototype.getSourceState=function(){return Object(i.b)()},e.prototype.getVisible=function(){return this.get(a.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(a.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(a.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(a.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(a.a.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(a.a.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(a.a.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){this.set(a.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(a.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(a.a.Z_INDEX,t)},e}(r.a);e.a=l},function(t,e,n){"use strict";var o,i=n(7),r=n(27),a=n(4),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this)||this;return n.highWaterMark=void 0!==e?e:2048,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return s(e,t),e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(a.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},e.prototype.get=function(t,e){var n=this.entries_[t];return Object(i.a)(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(i.a)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(r.a);e.a=c},function(t,e,n){"use strict";var o,i=n(22),r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,o,i){var r=t.call(this,e)||this;return r.inversePixelTransform=n,r.frameState=o,r.context=i,r}return r(e,t),e}(i.a);e.a=a},function(t,e,n){"use strict";var o={create:function(t,e){var n;if(e=e||{},"TEXT"===t)n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else for(var i in n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button"),e)switch(i){case"className":e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break;case"html":e.html instanceof Element?n.appendChild(e.html):void 0!==e.html&&(n.innerHTML=e.html);break;case"parent":e.parent.appendChild(n);break;case"style":this.setStyle(n,e.style);break;case"change":case"click":o.addListener(n,i,e[i]);break;case"on":for(var r in e.on)o.addListener(n,r,e.on[r]);break;case"checked":n.checked=!!e.checked;break;default:n.setAttribute(i,e[i])}return n},setHTML:function(t,e){e instanceof Element?t.appendChild(e):void 0!==e&&(t.innerHTML=e)},appendText:function(t,e){t.appendChild(document.createTextNode(e||""))},addListener:function(t,e,n){"string"==typeof e&&(e=e.split(" ")),e.forEach(function(e){t.addEventListener(e,n)})},removeListener:function(t,e,n){"string"==typeof e&&(e=e.split(" ")),e.forEach(function(e){t.removeEventListener(e,n)})},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return"none"===o.getStyle(t,"display")},toggle:function(t){t.style.display="none"===t.style.display?"":"none"},setStyle:function(t,e){for(var n in e)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"==typeof e[n]?t.style[n]=e[n]+"px":t.style[n]=e[n];break;default:t.style[n]=e[n]}},getStyle:function(t,e){var n,o=(t.ownerDocument||document).defaultView;if(o&&o.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=o.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(e){var n=t.style.left,o=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=n,t.runtimeStyle.left=o,e}(n);return/px$/.test(n)?parseInt(n):n},outerHeight:function(t){return t.offsetHeight+o.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+o.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.widtth||e.right-e.left}},scrollDiv:function(t,e){var n,i=!1,r=0,a=0,s="function"==typeof e.onmove?e.onmove:function(){},c=e.vertical?"pageY":"pageX",u=e.vertical?"scrollTop":"scrollLeft";t.querySelectorAll("img").forEach(function(t){t.ondragstart=function(){return!1}}),o.addListener(t,["mousedown"],function(e){i=e[c],a=new Date,t.classList.add("ol-move")}),o.addListener(window,["mousemove"],function(e){if(!1!==i){var o=i-e[c];t[u]+=o,(n=new Date)-a&&(r=(r+o/(n-a))/2),i=e[c],a=n,o&&s(!0)}else s(!1)}),o.addListener(window,["mouseup"],function(e){t.classList.remove("ol-move"),(a=new Date-a)>100?r=0:a>0&&(r=((r||0)+(i-e[c])/a)/2),t[u]+=100*r,i=!1,r=0,a=0}),e.mousewheel&&!t.classList.contains("ol-touch")&&o.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],function(e){var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[u]-=30*n,!1})}};e.a=o},function(t,e,n){"use strict";var o=function(t){this.propagationStopped,this.type=t,this.target=null};o.prototype.preventDefault=function(){this.propagationStopped=!0},o.prototype.stopPropagation=function(){this.propagationStopped=!0},e.a=o},function(t,e,n){"use strict";var o,i=.5,r=n(3),a=n(5),s=n(20),c=n(27),u=n(4),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e,n,o){var i=t.call(this)||this,r=o||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===r.transition?250:r.transition,i.transitionStarts_={},i}return l(e,t),e.prototype.changed=function(){this.dispatchEvent(u.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==a.a.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==a.a.LOADED){t.interimTile=null;break}t.getState()==a.a.LOADING?e=t:t.getState()==a.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){Object(r.b)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var o=e-n+1e3/60;return o>=this.transition_?1:Object(s.a)(o/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(c.a),p=n(18),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(e,n,o,i){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=o,r.resolution=n,r.state=i,r}return f(e,t),e.prototype.changed=function(){this.dispatchEvent(u.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(r.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(r.b)()},e}(c.a),g=n(26),_=n(1),v=n(0),y=n(19),m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function b(t,e,n){var o=t;if(o.src&&y.c){var i=o.decode(),r=!0;return i.then(function(){r&&e()}).catch(function(t){r&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){r=!1}}var a=[Object(_.b)(o,u.a.LOAD,e),Object(_.b)(o,u.a.ERROR,n)];return function(){a.forEach(_.e)}}!function(t){function e(e,n,o,i,r,a){var s=t.call(this,e,n,o,g.a.IDLE)||this;return s.src_=i,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.state=g.a.IDLE,s.imageLoadFunction_=a,s}m(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=g.a.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(v.y)(this.extent)/this.image_.height),this.state=g.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=g.a.IDLE&&this.state!=g.a.ERROR||(this.state=g.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=b(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(d);var O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function E(){var t=Object(p.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var x=function(t){function e(e,n,o,i,r,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=i,s.src_=o,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=r,s}return O(e,t),e.prototype.disposeInternal=function(){this.state==a.a.LOADING&&(this.unlistenImage_(),this.image_=E()),this.interimTile&&this.interimTile.dispose(),this.state=a.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=a.a.ERROR,this.unlistenImage_(),this.image_=E(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=a.a.LOADED:this.state=a.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==a.a.ERROR&&(this.state=a.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==a.a.IDLE&&(this.state=a.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=b(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(h),w=n(56);function T(t,e,n,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=n,o):[t,e,n]}function C(t,e,n){return t+"/"+e+"/"+n}function R(t){return C(t[0],t[1],t[2])}var j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),S=function(t){function e(e){return t.call(this,e)||this}return j(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(R(e.tileCoord)),e.dispose())}.bind(this))}},e}(w.a),P=n(9),A=n(2);function L(t,e,n,o){var i=n-t,r=o-e,a=Math.sqrt(i*i+r*r);return[Math.round(n+i/a),Math.round(o+r/a)]}var M=10,I=function(){function t(t,e,n,o,i){this.sourceProj_=t,this.targetProj_=e;var r={},a=Object(P.f)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&Object(v.C)(o)==Object(v.C)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(v.C)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(v.C)(this.targetProj_.getExtent()):null;var s=Object(v.A)(n),c=Object(v.B)(n),u=Object(v.u)(n),l=Object(v.t)(n),h=this.transformInv_(s),p=this.transformInv_(c),f=this.transformInv_(u),d=this.transformInv_(l);if(this.addQuad_(s,c,u,l,h,p,f,d,M),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}r={}}return t.prototype.addTriangle_=function(t,e,n,o,i,r){this.triangles_.push({source:[o,i,r],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,o,i,r,a,s,c){var u=Object(v.b)([i,r,a,s]),l=this.sourceWorldWidth_?Object(v.C)(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&l>.5&&l<1,f=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=Object(v.b)([t,e,n,o]);f=Object(v.C)(d)/this.targetWorldWidth_>.25||f}!p&&this.sourceProj_.isGlobal()&&l&&(f=l>.25||f)}if(f||!this.maxSourceExtent_||Object(v.D)(u,this.maxSourceExtent_)){if(!(f||isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1]))){if(!(c>0))return;f=!0}if(c>0){if(!f){var g=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(g),y=void 0;if(p)y=(Object(A.d)(i[0],h)+Object(A.d)(a[0],h))/2-Object(A.d)(_[0],h);else y=(i[0]+a[0])/2-_[0];var m=(i[1]+a[1])/2-_[1];f=y*y+m*m>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var b=[(e[0]+n[0])/2,(e[1]+n[1])/2],O=this.transformInv_(b),E=[(o[0]+t[0])/2,(o[1]+t[1])/2],x=this.transformInv_(E);this.addQuad_(t,e,b,E,i,r,O,x,c-1),this.addQuad_(E,b,n,o,x,O,a,s,c-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],T=this.transformInv_(w),C=[(n[0]+o[0])/2,(n[1]+o[1])/2],R=this.transformInv_(C);this.addQuad_(t,w,C,o,i,T,R,s,c-1),this.addQuad_(w,e,n,C,T,r,a,R,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,o,i,a,s),this.addTriangle_(t,e,n,i,r,a)}},t.prototype.calculateSourceExtent=function(){var t=Object(v.h)();return this.triangles_.forEach(function(e,n,o){var i=e.source;Object(v.p)(t,i[0]),Object(v.p)(t,i[1]),Object(v.p)(t,i[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),k=function(t){function e(e,n,o,r,s,c,u,l,h,p,f){var d=t.call(this,s,a.a.IDLE)||this;d.renderEdges_=void 0!==f&&f,d.pixelRatio_=u,d.gutter_=l,d.canvas_=null,d.sourceTileGrid_=n,d.targetTileGrid_=r,d.wrappedTileCoord_=c||s,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var g=r.getTileCoordExtent(d.wrappedTileCoord_),_=d.targetTileGrid_.getExtent(),y=d.sourceTileGrid_.getExtent(),m=_?Object(v.z)(g,_):g;if(0===Object(v.s)(m))return d.state=a.a.EMPTY,d;var b=e.getExtent();b&&(y=y?Object(v.z)(y,b):b);var O=r.getResolution(d.wrappedTileCoord_[0]),E=function(t,e,n,o){var i=Object(P.g)(n,e,t),r=Object(P.e)(e,o,n),a=e.getMetersPerUnit();void 0!==a&&(r*=a);var s=t.getMetersPerUnit();void 0!==s&&(r/=s);var c=t.getExtent();if(!c||Object(v.e)(c,i)){var u=Object(P.e)(t,r,i)/r;isFinite(u)&&u>0&&(r/=u)}return r}(e,o,Object(v.v)(m),O);if(!isFinite(E)||E<=0)return d.state=a.a.EMPTY,d;var x=void 0!==p?p:i;if(d.triangulation_=new I(e,o,m,y,E*x),0===d.triangulation_.getTriangles().length)return d.state=a.a.EMPTY,d;d.sourceZ_=n.getZForResolution(E);var w=d.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(w[1]=Object(A.a)(w[1],y[1],y[3]),w[3]=Object(A.a)(w[3],y[1],y[3])):w=Object(v.z)(w,y)),Object(v.s)(w)){for(var T=n.getTileRangeForExtentAndZ(w,d.sourceZ_),C=T.minX;C<=T.maxX;C++)for(var R=T.minY;R<=T.maxY;R++){var j=h(d.sourceZ_,C,R,u);j&&d.sourceTiles_.push(j)}0===d.sourceTiles_.length&&(d.state=a.a.EMPTY)}else d.state=a.a.EMPTY;return d}return F(e,t),e.prototype.disposeInternal=function(){this.state==a.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,o){e&&e.getState()==a.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=a.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),o="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],r=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,o,i,r,a,s,c,u,l){var h=Object(p.a)(Math.round(n*t),Math.round(n*e));if(0===c.length)return h.canvas;h.scale(n,n);var f=Object(v.h)();c.forEach(function(t,e,n){Object(v.o)(f,t.extent)});var d=Object(v.C)(f),g=Object(v.y)(f),_=Object(p.a)(Math.round(n*d/o),Math.round(n*g/o)),y=n/o;c.forEach(function(t,e,n){var o=t.extent[0]-f[0],i=-(t.extent[3]-f[3]),r=Object(v.C)(t.extent),a=Object(v.y)(t.extent);_.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,o*y,i*y,r*y,a*y)});var m=Object(v.A)(a);return s.getTriangles().forEach(function(t,e,i){var a=t.source,s=t.target,c=a[0][0],u=a[0][1],l=a[1][0],p=a[1][1],d=a[2][0],g=a[2][1],v=(s[0][0]-m[0])/r,y=-(s[0][1]-m[1])/r,b=(s[1][0]-m[0])/r,O=-(s[1][1]-m[1])/r,E=(s[2][0]-m[0])/r,x=-(s[2][1]-m[1])/r,w=c,T=u;c=0,u=0;var C=[[l-=w,p-=T,0,0,b-v],[d-=w,g-=T,0,0,E-v],[0,0,l,p,O-y],[0,0,d,g,x-y]],R=Object(A.e)(C);if(R){h.save(),h.beginPath();var j=(v+b+E)/3,S=(y+O+x)/3,P=L(j,S,v,y),M=L(j,S,b,O),I=L(j,S,E,x);h.moveTo(M[0],M[1]),h.lineTo(P[0],P[1]),h.lineTo(I[0],I[1]),h.clip(),h.transform(R[0],R[2],R[1],R[3],v,y),h.translate(f[0]-w,f[3]-T),h.scale(o/n,-o/n),h.drawImage(_.canvas,0,0),h.restore()}}),l&&(h.save(),h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var o=t.target,i=(o[0][0]-m[0])/r,a=-(o[0][1]-m[1])/r,s=(o[1][0]-m[0])/r,c=-(o[1][1]-m[1])/r,u=(o[2][0]-m[0])/r,l=-(o[2][1]-m[1])/r;h.beginPath(),h.moveTo(s,c),h.lineTo(i,a),h.lineTo(u,l),h.closePath(),h.stroke()}),h.restore()),h.canvas}(o,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),r,c,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=a.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==a.a.IDLE){this.state=a.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,o){var i=e.getState();if(i==a.a.IDLE||i==a.a.LOADING){t++;var r=Object(_.a)(e,u.a.CHANGE,function(n){var o=e.getState();o!=a.a.LOADED&&o!=a.a.ERROR&&o!=a.a.EMPTY||(Object(_.e)(r),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==a.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(_.e),this.sourcesListenerKeys_=null},e}(h),D=n(7);function N(t,e){var n=/\{z\}/g,o=/\{x\}/g,i=/\{y\}/g,r=/\{-y\}/g;return function(a,s,c){return a?t.replace(n,a[0].toString()).replace(o,a[1].toString()).replace(i,a[2].toString()).replace(r,function(){var t=a[0],n=e.getFullTileRange(t);return Object(D.a)(n,55),(n.getHeight()-a[2]-1).toString()}):void 0}}function G(t,e){for(var n=t.length,o=new Array(n),i=0;i<n;++i)o[i]=N(t[i],e);return function(t){if(1===t.length)return t[0];return function(e,n,o){if(e){var i=function(t){return(t[1]<<t[0])+t[2]}(e),r=Object(A.d)(i,t.length);return t[r](e,n,o)}}}(o)}function z(t,e,n){}var U=n(22),K=n(23),X=n(13),Z=n(29),Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function W(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var V=function(t){function e(e){var n=t.call(this)||this;return n.projection_=Object(P.d)(e.projection),n.attributions_=W(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:Z.a.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return Y(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(r.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=W(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(X.a),H=n(39),B=n(41),q=n(15),Q=n(42),J=n(17),$=[0,0,0],tt=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(D.a)(Object(J.c)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,o=this.resolutions_.length-1;n<o;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(D.a)(this.origins_.length==this.resolutions_.length,20));var i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=Object(v.A)(i)),Object(D.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(D.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:H.b,Object(D.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Q.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):i&&this.calculateTileRanges_(i)}return t.prototype.forEachTileCoord=function(t,e,n){for(var o=this.getTileRangeForExtentAndZ(t,e),i=o.minX,r=o.maxX;i<=r;++i)for(var a=o.minY,s=o.maxY;a<=s;++a)n([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,o){var i,r,a,s=null,c=t[0]-1;for(2===this.zoomFactor_?(r=t[1],a=t[2]):s=this.getTileCoordExtent(t,o);c>=this.minZoom;){if(2===this.zoomFactor_?(r=Math.floor(r/2),a=Math.floor(a/2),i=Object(Q.a)(r,r,a,a,n)):i=this.getTileRangeForExtentAndZ(s,c,n),e(c,i))return!0;--c}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var o=2*t[1],i=2*t[2];return Object(Q.a)(o,o+1,i,i+1,e)}var r=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var o=this.getOrigin(t),i=this.getResolution(t),r=Object(K.c)(this.getTileSize(t),this.tmpSize_),a=o[0]+e.minX*r[0]*i,s=o[0]+(e.maxX+1)*r[0]*i,c=o[1]+e.minY*r[1]*i,u=o[1]+(e.maxY+1)*r[1]*i;return Object(v.i)(a,c,s,u,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var o=$;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,o);var i=o[1],r=o[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,o),Object(Q.a)(i,o[1],r,o[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),o=Object(K.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*n,e[1]-(t[2]+.5)*o[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),o=this.getResolution(t[0]),i=Object(K.c)(this.getTileSize(t[0]),this.tmpSize_),r=n[0]+t[1]*i[0]*o,a=n[1]-(t[2]+1)*i[1]*o,s=r+i[0]*o,c=a+i[1]*o;return Object(v.i)(r,a,s,c,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,o,i){var r=this.getZForResolution(n),a=n/this.getResolution(r),s=this.getOrigin(r),c=Object(K.c)(this.getTileSize(r),this.tmpSize_),u=o?.5:0,l=o?.5:0,h=Math.floor((t-s[0])/n+u),p=Math.floor((s[1]-e)/n+l),f=a*h/c[0],d=a*p/c[1];return o?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),T(r,f,d,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,o,i){var r=this.getOrigin(n),a=this.getResolution(n),s=Object(K.c)(this.getTileSize(n),this.tmpSize_),c=o?.5:0,u=o?.5:0,l=Math.floor((t-r[0])/a+c),h=Math.floor((r[1]-e)/a+u),p=l/s[0],f=h/s[1];return o?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),T(n,p,f,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){var n=Object(J.d)(this.resolutions_,t,e||0);return Object(A.a)(n,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),o=this.minZoom;o<e;++o)n[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=n},t}();function et(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,o){return function(t,e,n,o){var i=void 0!==o?o:B.a.TOP_LEFT,r=nt(t,e,n);return new tt({extent:t,origin:Object(v.w)(t,i),resolutions:r,tileSize:n})}(ot(t),e,n,o)}(t),t.setDefaultTileGrid(e)),e}function nt(t,e,n){for(var o=void 0!==e?e:H.a,i=Object(v.y)(t),r=Object(v.C)(t),a=Object(K.c)(void 0!==n?n:H.b),s=Math.max(r/a[0],i/a[1]),c=o+1,u=new Array(c),l=0;l<c;++l)u[l]=s/Math.pow(2,l);return u}function ot(t){var e=(t=Object(P.d)(t)).getExtent();if(!e){var n=180*P.a[q.b.DEGREES]/t.getMetersPerUnit();e=Object(v.i)(-n,-n,n,n)}return e}var it=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rt=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var o=e.cacheSize;if(void 0===o){var i=[256,256],r=e.tileGrid;r&&Object(K.c)(r.getTileSize(r.getMinZoom()),i);var a="undefined"!=typeof screen,s=a?screen.availWidth||screen.width:1920,c=a?screen.availHeight||screen.height:1080;o=4*Math.ceil(s/i[0])*Math.ceil(c/i[1])}return n.tileCache=new S(o),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection,n}return it(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,o){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var r,s,c,u=!0,l=n.minX;l<=n.maxX;++l)for(var h=n.minY;h<=n.maxY;++h)s=C(e,l,h),c=!1,i.containsKey(s)&&(c=(r=i.get(s)).getState()===a.a.LOADED)&&(c=!1!==o(r)),c||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,o,i){return Object(r.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:et(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(P.c)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var o=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),r=Object(K.c)(o.getTileSize(t),this.tmpSize);return 1==i?r:Object(K.b)(r,i,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),o=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var o=e[0],i=t.getTileCoordCenter(e),r=ot(n);if(Object(v.e)(r,i))return e;var a=Object(v.C)(r),s=Math.ceil((r[0]-i[0])/a);return i[0]+=a*s,t.getTileCoordForCoordAndZ(i,o)}(o,t,n)),function(t,e){var n=t[0],o=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var r,a=e.getExtent();return!(r=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||r.containsXY(o,i)}(t,o)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,o){},e}(V),at=function(t){function e(e,n){var o=t.call(this,e)||this;return o.tile=n,o}return it(e,t),e}(U.a),st=rt,ct="tileloadstart",ut="tileloadend",lt="tileloaderror",ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pt=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):z,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return ht(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,o=Object(r.c)(n),i=n.getState();i==a.a.LOADING?(this.tileLoadingKeys_[o]=!0,e=ct):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=i==a.a.ERROR?lt:i==a.a.LOADED||i==a.a.ABORT?ut:void 0),null!=e&&this.dispatchEvent(new at(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var o=n[1].charCodeAt(0),i=n[2].charCodeAt(0),r=void 0;for(r=o;r<=i;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(G(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var o=C(t,e,n);this.tileCache.containsKey(o)&&this.tileCache.get(o)},e}(st),ft=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function dt(t,e){t.getImage().src=e}var gt=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:dt,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:x,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return ft(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var o in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[o];i.expireCache(i==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Object(P.c)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Object(P.c)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Object(P.c)(e,t)){var n=Object(r.c)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=et(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Object(P.c)(e,t))return this.tileCache;var n=Object(r.c)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new S(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,o,i,r){var s=[t,e,n],c=this.getTileCoordForTileUrlFunction(s,i),l=c?this.tileUrlFunction(c,o,i):void 0,h=new this.tileClass(s,void 0!==l?a.a.IDLE:a.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=r,Object(_.a)(h,u.a.CHANGE,this.handleTileChange,this),h},e.prototype.getTile=function(t,e,n,o,i){var r=this.getProjection();if(r&&i&&!Object(P.c)(r,i)){var a=this.getTileCacheForProjection(i),s=[t,e,n],c=void 0,u=R(s);a.containsKey(u)&&(c=a.get(u));var l=this.getKey();if(c&&c.key==l)return c;var h=this.getTileGridForProjection(r),p=this.getTileGridForProjection(i),f=this.getTileCoordForTileUrlFunction(s,i),d=new k(r,h,i,p,s,f,this.getTilePixelRatio(o),this.getGutter(),function(t,e,n,o){return this.getTileInternal(t,e,n,o,r)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=l,c?(d.interimTile=c,d.refreshInterimChain(),a.replace(u,d)):a.set(u,d),d}return this.getTileInternal(t,e,n,o,r||i)},e.prototype.getTileInternal=function(t,e,n,o,i){var r=null,s=C(t,e,n),c=this.getKey();if(this.tileCache.containsKey(s)){if((r=this.tileCache.get(s)).key!=c){var u=r;r=this.createTile_(t,e,n,o,i,c),u.getState()==a.a.IDLE?r.interimTile=u.interimTile:r.interimTile=u,r.refreshInterimChain(),this.tileCache.replace(s,r)}}else r=this.createTile_(t,e,n,o,i,c),this.tileCache.set(s,r);return r},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Object(P.d)(t);if(n){var o=Object(r.c)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}},e}(pt),_t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vt=function(t){function e(e){var n=e||{},o=void 0!==n.projection?n.projection:"EPSG:3857",i=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||Object(P.d)("EPSG:3857").getExtent(),o={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:nt(n,e.maxZoom,e.tileSize)};return new tt(o)}({extent:ot(o),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:o,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})||this}return _t(e,t),e}(gt);e.a=vt},function(t,e,n){"use strict";n.r(e),n.d(e,"Units",function(){return f}),n.d(e,"render",function(){return _});var o,i=n(13),r=n(7),a=n(33),s=n(16),c=n(1),u=n(9),l=n(15),h=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p="units",f={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},d=[1,2,5],g=function(t){function e(e){var n=this,o=e||{},r=void 0!==o.className?o.className:o.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:o.render||_,target:o.target})||this).innerElement_=document.createElement("div"),n.innerElement_.className=r+"-inner",n.element.className=r+" "+s.d,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==o.minWidth?o.minWidth:64,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",Object(c.a)(n,Object(i.b)(p),n.handleUnitsChanged_,n),n.setUnits(o.units||f.METRIC),n.scaleBar_=o.bar||!1,n.scaleBarSteps_=o.steps||4,n.scaleBarText_=o.text||!1,n}return h(e,t),e.prototype.getUnits=function(){return this.get(p)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(p,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,o=this.getUnits(),i=o==f.DEGREES?l.b.DEGREES:l.b.METERS,a=Object(u.e)(n,t.resolution,e,i),s=this.minWidth_*a,c="";if(o==f.DEGREES){var h=u.a[l.b.DEGREES];(s*=h)<h/60?(c="″",a*=3600):s<h?(c="′",a*=60):c="°"}else o==f.IMPERIAL?s<.9144?(c="in",a/=.0254):s<1609.344?(c="ft",a/=.3048):(c="mi",a/=1609.344):o==f.NAUTICAL?(a/=1852,c="nm"):o==f.METRIC?s<.001?(c="μm",a*=1e6):s<1?(c="mm",a*=1e3):s<1e3?c="m":(c="km",a/=1e3):o==f.US?s<.9144?(c="in",a*=39.37):s<1609.344?(c="ft",a/=.30480061):(c="mi",a/=1609.3472):Object(r.a)(!1,33);for(var p,g,_,v,y=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){_=Math.floor(y/3);var m=Math.pow(10,_);if(p=d[(y%3+3)%3]*m,g=Math.round(p/a),isNaN(g))return this.element.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++y}v=this.scaleBar_?this.createScaleBar(g,p,c):p.toFixed(_<0?-_:0)+" "+c,this.renderedHTML_!=v&&(this.innerElement_.innerHTML=v,this.renderedHTML_=v),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var o="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],r=t/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&i.push(this.createMarker("absolute",s)),i.push('<div><div class="ol-scale-singlebar" style="width: '+r+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,n):"")+"</div>"),s===this.scaleBarSteps_-1&&i.push(this.createStepText(s+1,t,!0,e,n)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+o+"</div>":"")+i.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,o,i){var r=(0===t?0:Math.round(o/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+i);return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+r+"</div>"},e.prototype.getScaleForResolution=function(){var t=this.getMap().getView().getResolution(),e=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*e*39.37*(25.4/.28)},e}(a.a);function _(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}e.default=g},function(t,e,n){"use strict";n.r(e),n.d(e,"ATTRIBUTION",function(){return a});var o,i=n(60),r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',s=function(t){function e(e){var n,o=e||{};n=void 0!==o.attributions?o.attributions:[a];var i=void 0!==o.crossOrigin?o.crossOrigin:"anonymous",r=void 0!==o.url?o.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,cacheSize:o.cacheSize,crossOrigin:i,opaque:void 0===o.opaque||o.opaque,maxZoom:void 0!==o.maxZoom?o.maxZoom:19,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,url:r,wrapX:o.wrapX,attributionsCollapsible:!1})||this}return r(e,t),e}(i.a);e.default=s},function(t,e,n){"use strict";n.r(e);var o=n(39),i=n(3),r=n(12),a=n(2);function s(t,e,n){return function(o,i,r,s){if(o){var c=e?0:r[0]*i,u=e?0:r[1]*i,l=t[0]+c/2,h=t[2]-c/2,p=t[1]+u/2,f=t[3]-u/2;l>h&&(l=h=(h+l)/2),p>f&&(p=f=(f+p)/2);var d=Object(a.a)(o[0],l,h),g=Object(a.a)(o[1],p,f),_=30*i;return s&&n&&(d+=-_*Math.log(1+Math.max(0,l-o[0])/_)+_*Math.log(1+Math.max(0,o[0]-h)/_),g+=-_*Math.log(1+Math.max(0,p-o[1])/_)+_*Math.log(1+Math.max(0,o[1]-f)/_)),[d,g]}}}function c(t){return t}var u=n(13),l=n(17),h=n(0);function p(t,e,n){var o=Object(h.C)(e)/n[0],i=Object(h.y)(e)/n[1];return Math.min(t,Math.min(o,i))}function f(t,e,n){var o=Math.min(t,e);return o*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(o=Math.max(o,n),o/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Object(a.a)(o,n/2,2*e)}function d(t,e,n,o){return function(i,r,s,c){if(void 0!==i){var u=o?p(t,o,s):t;return(void 0===n||n)&&c?f(i,u,e):Object(a.a)(i,e,u)}}}var g=n(35),_=n(25),v="center",y="resolution",m="rotation",b=n(7),O=n(28),E=n(20),x=n(8),w=n(49),T=n(10),C=n(9),R=n(15);n.d(e,"createCenterConstraint",function(){return M}),n.d(e,"createResolutionConstraint",function(){return I}),n.d(e,"createRotationConstraint",function(){return F}),n.d(e,"isNoopAnimation",function(){return k});var j,S=(j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=0,A=function(t){function e(e){var n=t.call(this)||this,o=Object(T.a)({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Object(C.b)(o.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.applyOptions_(o),n}return S(e,t),e.prototype.applyOptions_=function(t){var e=I(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=M(t),o=e.constraint,i=F(t);this.constraints_={center:n,resolution:o,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenter(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(T.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(T.a)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0),this.animate_.apply(this,arguments)},e.prototype.animate_=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var o=arguments[n-1];return o.center&&this.setCenter(o.center),void 0!==o.zoom&&this.setZoom(o.zoom),void 0!==o.rotation&&this.setRotation(o.rotation),void(e&&L(e,!0))}for(var i=Date.now(),r=this.targetCenter_.slice(),s=this.targetResolution_,c=this.targetRotation_,u=[],l=0;l<n;++l){var h=arguments[l],p={start:i,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||E.c,callback:e};if(h.center&&(p.sourceCenter=r,p.targetCenter=h.center.slice(),r=p.targetCenter),void 0!==h.zoom?(p.sourceResolution=s,p.targetResolution=this.getResolutionForZoom(h.zoom),s=p.targetResolution):h.resolution&&(p.sourceResolution=s,p.targetResolution=h.resolution,s=p.targetResolution),void 0!==h.rotation){p.sourceRotation=c;var f=Object(a.d)(h.rotation-c+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=c+f,c=p.targetRotation}k(p)?p.complete=!0:i+=p.duration,u.push(p)}this.animations_.push(u),this.setHint(_.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[_.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[_.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(_.a.ANIMATING,-this.hints_[_.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&L(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var o=this.animations_[n],i=!0,r=0,s=o.length;r<s;++r){var c=o[r];if(!c.complete){var u=t-c.start,l=c.duration>0?u/c.duration:1;l>=1?(c.complete=!0,l=1):i=!1;var h=c.easing(l);if(c.sourceCenter){var p=c.sourceCenter[0],f=c.sourceCenter[1],d=p+h*(c.targetCenter[0]-p),g=f+h*(c.targetCenter[1]-f);this.targetCenter_=[d,g]}if(c.sourceResolution&&c.targetResolution){var v=1===h?c.targetResolution:c.sourceResolution+h*(c.targetResolution-c.sourceResolution);if(c.anchor){var y=this.getSizeFromViewport_(this.getRotation()),m=this.constraints_.resolution(v,0,y,!0);this.targetCenter_=this.calculateCenterZoom(m,c.anchor)}this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==c.sourceRotation&&void 0!==c.targetRotation){var b=1===h?Object(a.d)(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+h*(c.targetRotation-c.sourceRotation);if(c.anchor){var O=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(O,c.anchor)}this.targetRotation_=b}if(this.applyTargetState_(!0),e=!0,!c.complete)break}}if(i){this.animations_[n]=null,this.setHint(_.a.ANIMATING,-1);var E=o[0].callback;E&&L(E,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,o=this.getCenter();return void 0!==o&&(n=[o[0]-e[0],o[1]-e[1]],Object(O.c)(n,t-this.getRotation()),Object(O.a)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,o=this.getCenter(),i=this.getResolution();void 0!==o&&void 0!==i&&(n=[e[0]-t*(e[0]-o[0])/i,e[1]-t*(e[1]-o[1])/i]);return n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+Object(i.c)(this)+'"]',o=document.querySelector(n);if(o){var r=getComputedStyle(o);e[0]=parseInt(r.width,10),e[1]=parseInt(r.height,10)}if(t){var a=e[0],s=e[1];e[0]=Math.abs(a*Math.cos(t))+Math.abs(s*Math.sin(t)),e[1]=Math.abs(a*Math.sin(t))+Math.abs(s*Math.cos(t))}return e},e.prototype.getCenter=function(){return this.get(v)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();Object(b.a)(n,1);var o=this.getResolution();Object(b.a)(void 0!==o,2);var i=this.getRotation();return Object(b.a)(void 0!==i,3),Object(h.x)(n,o,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(y)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),o=Object(h.C)(t)/n[0],i=Object(h.y)(t)/n[1];return Math.max(o,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,o=this.minResolution_,i=Math.log(n/o)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(m)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,o=this.minResolution_,i=Math.log(n/o)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},e.prototype.getState=function(){var t=this.getCenter(),e=this.getProjection(),n=this.getResolution(),o=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,o=this.minZoom_||0;if(this.resolutions_){var i=Object(l.d)(this.resolutions_,t,1);o=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return o+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Object(a.a)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Object(a.a)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,o=e||{},i=o.size;i||(i=this.getSizeFromViewport_()),Object(b.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(b.a)(!Object(h.F)(t),25),n=Object(w.b)(t)):t.getType()===x.a.CIRCLE?(t=t.getExtent(),(n=Object(w.b)(t)).rotate(this.getRotation(),Object(h.v)(t))):n=t;var a,s=void 0!==o.padding?o.padding:[0,0,0,0],c=void 0!==o.nearest&&o.nearest;a=void 0!==o.minResolution?o.minResolution:void 0!==o.maxZoom?this.getResolutionForZoom(o.maxZoom):0;for(var u=n.getFlatCoordinates(),l=this.getRotation(),p=Math.cos(-l),f=Math.sin(-l),d=1/0,g=1/0,_=-1/0,v=-1/0,y=n.getStride(),m=0,O=u.length;m<O;m+=y){var E=u[m]*p-u[m+1]*f,T=u[m]*f+u[m+1]*p;d=Math.min(d,E),g=Math.min(g,T),_=Math.max(_,E),v=Math.max(v,T)}var C=this.getResolutionForExtent([d,g,_,v],[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);C=isNaN(C)?a:Math.max(C,a),C=this.getConstrainedResolution(C,c?0:1),f=-f;var R=(d+_)/2,j=(g+v)/2,S=[(R+=(s[1]-s[3])/2*C)*p-(j+=(s[0]-s[2])/2*C)*f,j*p+R*f],P=o.callback?o.callback:r.c;void 0!==o.duration?this.animate_({resolution:C,center:this.getConstrainedCenter(S,C),duration:o.duration,easing:o.easing},P):(this.targetResolution_=C,this.targetCenter_=S,this.applyTargetState_(!1,!0),L(P,!0))},e.prototype.centerOn=function(t,e,n){var o=this.getRotation(),i=Math.cos(-o),r=Math.sin(-o),a=t[0]*i-t[1]*r,s=t[1]*i+t[0]*r,c=this.getResolution(),u=(a+=(e[0]/2-n[0])*c)*i-(s+=(n[1]-e[1]/2)*c)*(r=-r),l=s*i+a*r;this.setCenter([u,l])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=this.targetCenter_;this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.getSizeFromViewport_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,o,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,o=this.constraints_.rotation(this.targetRotation_,n),i=this.getSizeFromViewport_(o),r=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,r,i,n);this.get(m)!==o&&this.set(m,o),this.get(y)!==r&&this.set(y,r),this.get(v)&&Object(O.b)(this.get(v),a)||this.set(v,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var o=void 0!==t?t:200,i=e||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(r),s=this.constraints_.resolution(this.targetResolution_,i,a),c=this.constraints_.center(this.targetCenter_,s,a);if(0===o)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=c,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===r&&this.getCenter()&&Object(O.b)(this.getCenter(),c)||(this.getAnimating()&&this.cancelAnimations(),this.animate_({rotation:r,center:c,resolution:s,duration:o,easing:E.b,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(_.a.INTERACTING,1)},e.prototype.endInteraction=function(t,e,n){this.setHint(_.a.INTERACTING,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,o=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,o)},e}(u.a);function L(t,e){setTimeout(function(){t(e)},0)}function M(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return s(t.extent,t.constrainOnlyCenter,e)}var n=Object(C.b)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var o=n.getExtent().slice();return o[0]=-1/0,o[2]=1/0,s(o,!1,!1)}return c}function I(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:P,s=void 0!==t.maxZoom?t.maxZoom:28,c=void 0!==t.zoomFactor?t.zoomFactor:2,u=void 0!==t.multiWorld&&t.multiWorld,g=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint;if(void 0!==t.resolutions){var _=t.resolutions;n=_[r],i=void 0!==_[s]?_[s]:_[_.length-1],e=t.constrainResolution?function(t,e,n){return function(o,i,r,s){if(void 0!==o){var c=t[0],u=t[t.length-1],h=n?p(c,n,r):c;if(s)return void 0===e||e?f(o,h,u):Object(a.a)(o,u,h);var d=Math.min(h,o),g=Math.floor(Object(l.d)(t,d,i));return t[g]}}}(_,g,!t.constrainOnlyCenter&&t.extent):d(n,i,g,!t.constrainOnlyCenter&&t.extent)}else{var v=Object(C.b)(t.projection,"EPSG:3857"),y=v.getExtent(),m=(y?Math.max(Object(h.C)(y),Object(h.y)(y)):360*C.a[R.b.DEGREES]/v.getMetersPerUnit())/o.b/Math.pow(2,P),b=m/Math.pow(2,28-P);if(void 0!==(n=t.maxResolution)?r=0:n=m/Math.pow(c,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(c,s):m/Math.pow(c,s):b),s=r+Math.floor(Math.log(n/i)/Math.log(c)),i=n/Math.pow(c,s-r),t.constrainResolution)e=function(t,e,n,o,i){return function(r,s,c,u){if(void 0!==r){var l=i?p(e,i,c):e,h=void 0!==n?n:0;if(u)return void 0===o||o?f(r,l,h):Object(a.a)(r,h,l);var d=-s*(.5-1e-9)+.5,g=Math.min(l,r),_=Math.floor(Math.log(e/g)/Math.log(t)+d),v=e/Math.pow(t,_);return Object(a.a)(v,h,l)}}}(c,n,i,g,!t.constrainOnlyCenter&&t.extent);else{var O=t.constrainOnlyCenter,E=t.extent;u||E||!v.isGlobal()||(O=!1,E=v.getExtent()),e=d(n,i,g,!O&&E)}}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:c}}function F(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(g.b)():!1===e?g.d:"number"==typeof e?Object(g.a)(e):g.d}return g.c}function k(t){return!(t.sourceCenter&&t.targetCenter&&!Object(O.b)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.default=A},function(t,e,n){"use strict";n(78),n(81),n(83),n(85);var o=p(n(90)),i=p(n(63)),r=p(n(61)),a=p(n(87)),s=p(n(92)),c=p(n(91)),u=p(n(62)),l=p(n(88)),h=p(n(89));function p(t){return t&&t.__esModule?t:{default:t}}var f=new c.default({source:new u.default}),d=new c.default({source:new l.default({layer:"watercolor"})}),g=new c.default({source:new l.default({layer:"terrain-labels"})}),_=new o.default({target:"map",layers:[f,d,g],view:new i.default({center:[0,30],zoom:4})}),v=new h.default;v.addLayer(d),v.addLayer(f,!0),_.addControl(v),_.addControl(new r.default),_.addControl(new a.default);var y=new s.default;y.on("select",function(t){_.getView().animate({center:t.coordinate,zoom:Math.max(_.getView().getZoom(),16)})}),_.addControl(y)},,,,,,,,,,,,,,function(t,e,n){var o=n(79);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(52)(o,i);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(51)(!1)).push([t.i,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  font-size: .7rem;\n  line-height: 1.375em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n  line-height: inherit;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution ul, .ol-attribution button {\n  display: inline-block;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n  height: 1.1em;\n  line-height: 1em;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: inline-block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var o=n(82);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(52)(o,i);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(51)(!1)).push([t.i,".ol-permalink\n{\tposition: absolute;\n\ttop:0.5em;\n\tright: 2.5em;\n}\n.ol-touch .ol-permalink\n{\tright: 3em;\n}\n\n.ol-permalink button\n{\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcFBjYE1ZK03gAAAUlJREFUOMuVk71KA1EQhc/NaiP+gCRpFHwGBSFlCrFVfAsbwSJCBMv06QIGJOBziI3EYAgkjU8gIloIAasIn4WzMqx34zrN7J6de+6ZmbNSgQDSfADcATPgHbgCyvonSYv8KEzWdofegH3gwmG9Ikq67sAESFzNueHThTyiEIKAmr2OJCUhhO30Aou+5aUQU2Ik65K2JC1KegohPGfUBkmvksqShnntHEcGOs60NXHfjmKz6czZTsNqbhzW+muwY2ATWAWawCOwBgxcTfvnvCPxKx4Cy5bPgBWgauRpdL2ImNlGhp3MabETm8mh94nDk4yCNE5/KTGg7xxbyhYAG0AN2AEqURIDZ0a0Fxn+LXAPXDpzRqMk6cOedz1ubdYl1b6NHgZRJe72nuu/CdSBl+yKi/zZlTnbaeXOJIesClwDU+ATeEhtX5TkCwAWUyAsHH1QAAAAAElFTkSuQmCC');\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}",""])},function(t,e,n){var o=n(84);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(52)(o,i);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(51)(!1)).push([t.i,'.ol-search{\n  top: 0.5em;\n  left: 3em;\n}\n.ol-touch .ol-search {\n  left: 3.5em;\n}\n.ol-search button {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABPUlEQVQoU41SwXHCQAzUHh58eoUOIBWEDkI6oAToIKkg7iAuwakgpAIowXRACcnrzp6BzchjMx4wE/S6kW5XK60gvQghzJIkmVoqSZI9gJ9+/fINS5Cc1HX9QXIlIr/tpwcRyb33b7cIGnAIYQdg4pxbjcfj0nJ1Xc+Px+PGObdN03Q9RIAQwgpAnqbp7FKmjQGgJLlU1d2V7BjjRkQO3vvXIXarkyxVNbsCm2QR2Q0V7XOMMReRmfd+OQQubN6hYgs22ZtbnRcAtiRfLueqqmpJ8ovko6oeBq0KIWQA3gFkzrlmMafTaUEyI/mpqmbhVTRWWbRdbClPbeobQNES5KPRqOxs7DBn8K1DsAOKMZYApiTXqlrcDe4d0XN7jWeCfzt351tVle2iGalTcBd4gGDvvZ/fDe4RmCOFLe8Pr7mvEP2N9PQAAAAASUVORK5CYII=");\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 1em;\n  top: 2px;\n  left: 2px;\n  float: left;\n}\n.ol-search input {\n  display: inline-block;\n  border: 0;\n  margin: 1px 1px 1px 2px;\n  font-size: 1.14em;\n  padding-left: 0.3em;\n  height: 1.375em;\n  box-sizing: border-box;\n  transition: all 0.1s;\n}\n.ol-touch .ol-search input,\n.ol-touch .ol-search ul {\n  font-size: 1.5em;\n}\n.ol-control.ol-search.ol-collapsed > * {\n  display: none;\n}\n.ol-control.ol-search.ol-collapsed > button {\n  display: block;\n}\n\n.ol-search ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: block;\n  clear: both;\n  cursor: pointer;\n  max-width: 17em;\n  overflow-x: hidden;\n  z-index: 1;\n  background: #fff;\n}\n/*\n.ol-control.ol-search ul {\n  position: absolute;\n  box-shadow: 5px 5px 5px rgba(0,0,0,0.5);\n}\n*/\n.ol-search ul li {\n  padding: 0.1em 0.5em;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ol-search ul li.select,\n.ol-search ul li:hover {\n  background-color: rgba(0,60,136,.5);\n  color: #fff;\n}\n.ol-search ul li img {\n  float: left;\n  max-height: 2em;\n}\n.ol-search li.copy {\n    background: rgba(0,0,0,.5);\n  color: #fff;\n}\n.ol-search li.copy a {\n  color: #fff;\n  text-decoration: none;\n}\n\n.ol-search.searching:before {\n  content: \'\';\n  position: absolute;\n  height: 3px;\n  left: 0;\n  top: 1.6em;\n  animation: pulse .5s infinite alternate linear;\n  background: red;\n  z-index: 2;\n}\n\n@keyframes pulse {\n  0% { left:0; right: 95%; }\n  50% {\tleft: 30%; right: 30%; }\n  100% {\tleft: 95%; right: 0; }\n}\n\n\n.ol-search.IGNF-parcelle input {\n  width: 13.5em;\n}\n.ol-search.IGNF-parcelle input:read-only {\n  background: #ccc;\n  opacity: .8;\n}\n.ol-search.IGNF-parcelle.ol-collapsed-list > ul.autocomplete {\n  display: none;\n}\n\n.ol-search.IGNF-parcelle label {\n  display: block;\n  clear: both;\n}\n.ol-search.IGNF-parcelle > div input,\n.ol-search.IGNF-parcelle > div label {\n  width: 5em;\n  box-sizing: border-box;\n  display: inline-block;\n  margin: .1em;\n  font-size: 1em;\n}\n.ol-search.IGNF-parcelle ul.autocomplete-page {\n  margin-top:.5em;\n  width:100%;\n  text-align: center;\n  display: none;\n}\n.ol-search.IGNF-parcelle.ol-collapsed-list ul.autocomplete-parcelle,\n.ol-search.IGNF-parcelle.ol-collapsed-list ul.autocomplete-page {\n  display: block;\n}\n.ol-search.IGNF-parcelle.ol-collapsed ul.autocomplete-page,\n.ol-search.IGNF-parcelle.ol-collapsed ul.autocomplete-parcelle,\n.ol-search.IGNF-parcelle ul.autocomplete-parcelle {\n  display: none;\n}\n.ol-search.IGNF-parcelle ul.autocomplete-page li {\n  display: inline-block;\n  color: #fff;\n  background: rgba(0,60,136,.5);\n  border-radius: 50%;\n  width: 1.3em;\n  height: 1.3em;\n  padding: .1em;\n  margin: 0 .1em;\n}\n.ol-search.IGNF-parcelle ul.autocomplete-page li.selected {\n  background: rgba(0,60,136,1);\n}\n\n/* GPS */\n.ol-searchgps input.search {\n  display: none;\n}\n.ol-control.ol-searchgps > button:first-child {\n  background-image: none;\n}\n.ol-control.ol-searchgps > button:first-child:before {\n  content: "x/y";\n  display: block;\n  transform: scaleX(.8);\n}\n.ol-control.ol-searchgps .ol-latitude,\n.ol-control.ol-searchgps .ol-longitude {\n  clear: both;\n}\n.ol-control.ol-searchgps .ol-latitude label,\n.ol-control.ol-searchgps .ol-longitude label {\n  width: 5.5em;\n  display: inline-block;\n  text-align: right;\n  transform: scaleX(.8);\n  margin: 0 -.8em 0 0;\n  transform-origin: 0 0;\n}\n.ol-control.ol-searchgps .ol-latitude input,\n.ol-control.ol-searchgps .ol-longitude input {\n  max-width: 10em;\n}\n\n.ol-control.ol-searchgps .ol-switch {\n  cursor: pointer;\n  float: right;\n  margin: .5em;\n  font-size: .9em;\n}\n.ol-control.ol-searchgps .ol-switch input {\n  display: none;\n}\n.ol-control.ol-searchgps .ol-switch span {\n  color: rgba(0,60,136,.5);\n  position: relative;\n  cursor: pointer;\n  background-color: #ccc;\n  transition: .4s;\n  width: 1.6em;\n  height: 1em;\n  display: inline-block;\n  border-radius: 1em;\n  font-size: 1.3em;\n  vertical-align: middle;\n  margin: 0 .2em;\n}\n.ol-control.ol-searchgps .ol-switch span:before {\n  position: absolute;\n  content: "";\n  height: 1em;\n  width: 1em;\n  left: 0;\n  top: 50%;\n  background-color: #fff;\n  transition: .4s;\n  border-radius: 1em;\n  display: block;\n  transform: translateY(-50%);\n  border: 2px solid #ccc;\n  box-sizing: border-box;\n}\n.ol-control.ol-searchgps .ol-switch input:checked + span {\n  background-color: currentColor;\n}\n.ol-control.ol-searchgps .ol-switch input:checked + span:before {\n  transform: translate(.6em,-50%);\n  border-color: currentColor;\n}\n\n.ol-searchgps .ol-decimal{\n  display: inline-block;\n}\n.ol-searchgps .ol-dms,\n.ol-searchgps.ol-dms .ol-decimal {\n  display: none;\n  width: 3em;\n  text-align: right;\n}\n.ol-searchgps.ol-dms .ol-dms {\n  display: inline-block;\n}\n\n.ol-searchgps span.ol-dms {\n  width: auto;\n}\n.ol-searchgps.ol-control.ol-collapsed button.ol-geoloc {\n  display: none;\n}\n.ol-searchgps button.ol-geoloc {\n  top: 0;\n  float: right;\n  margin-right: 3px;\n  background-image: none;\n  position: relative;\n}\n.ol-searchgps button.ol-geoloc:before {\n  content:"";\n  position: absolute;\n  left: 50%;\n  right: 50%;\n  width: .6em;\n  height: .6em;\n  border: .1em solid currentColor;\n  border-radius: 50%;\n  transform: translate(-50%,-50%);\n}\n.ol-searchgps button.ol-geoloc:after {\n  content:"";\n  position: absolute;\n  left: 50%;\n  right: 50%;\n  width: .2em;\n  height: .2em;\n  background-color: transparent;\n  transform: translate(-50%,-50%);\n  box-shadow: \n    .45em 0 currentColor, -.45em 0 currentColor, 0 -.45em currentColor, 0 .45em currentColor,\n    .25em 0 currentColor, -.25em 0 currentColor, 0 -.25em currentColor, 0 .25em currentColor;\n}',""])},function(t,e,n){var o=n(86);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(52)(o,i);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(51)(!1)).push([t.i,'.ol-swipe\n{\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\t-webkit-transform: translate(-50%, -50%);\n}\n\n.ol-swipe:before\n{\tcontent: "";\n\tposition: absolute;\n\ttop: -5000px;\n\tbottom: -5000px;\n\tleft: 50%;\n\twidth: 4px;\n\tbackground: #fff;\n\tz-index:-1;\n\ttransform: translate(-2px, 0);\n\t-webkit-transform: translate(-2px, 0);\n}\n.ol-swipe.horizontal:before\n{\tleft: -5000px;\n\tright: -5000px;\n\ttop: 50%;\n\tbottom: auto;\n\twidth: auto;\n\theight: 4px;\n}\n\n.ol-swipe,\n.ol-swipe button\n{\tcursor: ew-resize;\n}\n.ol-swipe.horizontal,\n.ol-swipe.horizontal button\n{\tcursor: ns-resize;\n}\n\n.ol-swipe:after,\n.ol-swipe button:before,\n.ol-swipe button:after\n{\tcontent: "";\n\tposition: absolute;\n\ttop: 25%;\n\tbottom: 25%;\n\tleft: 50%;\n\twidth: 2px;\n\tbackground: rgba(255,255,255,0.8);\n\ttransform: translate(-1px, 0);\n\t-webkit-transform: translate(-1px, 0);\n}\n.ol-swipe button:after\n{\ttransform: translateX(5px);\n\t-webkit-transform: translateX(5px);\n}\n.ol-swipe button:before\n{\ttransform: translateX(-7px);\n\t-webkit-transform: translateX(-7px);\n}\n',""])},function(t,e,n){"use strict";n.r(e);var o=n(34),i=n(50),r=n(32),a=n(48),s=n(58),c=function(t){var e=t||{},n=this,o=document.createElement("button");function i(){"function"==typeof e.onclick?e.onclick(n.getLink()):n.setUrlReplace(!n.replaceState_)}this.replaceState_=!1!==e.urlReplace,this.fixed_=e.fixed||6,this.hash_=e.anchor?"#":"?",o.addEventListener("click",i,!1),o.addEventListener("touchstart",i,!1);var a=document.createElement("div");a.className=(e.className||"ol-permalink")+" ol-unselectable ol-control",a.appendChild(o),e.hidden&&s.a.hide(a),r.a.call(this,{element:a,target:e.target}),this.on("change",this.viewChange_.bind(this)),this.search_={};var c=document.location.hash||document.location.search;if(c){c=c.replace(/(^#|^\?)/,"").split("&");for(var u=0;u<c.length;u++){var l=c[u].split("=");switch(l[0]){case"lon":case"lat":case"z":case"r":case"l":break;default:this.search_[l[0]]=l[1]}}}this.setPosition()};Object(o.a)(c,r.a),c.prototype.setMap=function(t){this._listener&&(Object(i.b)(this._listener.change),Object(i.b)(this._listener.moveend)),this._listener=null,r.a.prototype.setMap.call(this,t),t&&(this._listener={change:t.getLayerGroup().on("change",this.layerChange_.bind(this)),moveend:t.on("moveend",this.viewChange_.bind(this))},this.setPosition())},c.prototype.getLayerByLink=function(t,e){!e&&this.getMap()&&(e=this.getMap().getLayers().getArray());for(var n=0;n<e.length;n++){if(e[n].get("permalink")==t)return e[n];if(e[n].getLayers){var o=this.getLayerByLink(t,e[n].getLayers().getArray());if(o)return o}}return!1},c.prototype.setPosition=function(){var t=this.getMap();if(t){var e=document.location.hash||document.location.search;if(e){var n,o,i={};for(e=e.replace(/(^#|^\?)/,"").split("&"),n=0;n<e.length;n++)i[(o=e[n].split("="))[0]]=o[1];var r=Object(a.a)([Number(i.lon),Number(i.lat)],"EPSG:4326",t.getView().getProjection());if(r[0]&&r[1]&&t.getView().setCenter(r),i.z&&t.getView().setZoom(Number(i.z)),i.r&&t.getView().setRotation(Number(i.r)),i.l){!function e(n){n||(n=t.getLayers().getArray());for(var o=0;o<n.length;o++)n[o].get("permalink")&&n[o].setVisible(!1),n[o].getLayers&&e(n[o].getLayers().getArray())}();var s=i.l.split("|");for(n=0;n<s.length;n++){o=s[n].split(":");var c=this.getLayerByLink(o[0]),u=Number(o[1]);c&&(c.setOpacity(u),c.setVisible(!0))}}}}},c.prototype.getUrlParams=function(){return this.search_},c.prototype.setUrlParam=function(t,e){t&&(void 0===e||""===e?delete this.search_[encodeURIComponent(t)]:this.search_[encodeURIComponent(t)]=encodeURIComponent(e)),this.viewChange_()},c.prototype.getUrlParam=function(t){return decodeURIComponent(this.search_[encodeURIComponent(t)]||"")},c.prototype.hasUrlParam=function(t){return this.search_.hasOwnProperty(encodeURIComponent(t))},c.prototype.getLink=function(){var t=this.getMap(),e=Object(a.a)(t.getView().getCenter(),t.getView().getProjection(),"EPSG:4326"),n=t.getView().getZoom(),o=t.getView().getRotation(),i=this.layerStr_,r="lon="+e[0].toFixed(this.fixed_)+"&lat="+e[1].toFixed(this.fixed_)+"&z="+n+(o?"&r="+Math.round(1e4*o)/1e4:"")+(i?"&l="+i:"");for(var s in this.search_)r+="&"+s+"="+this.search_[s];return document.location.protocol+"//"+document.location.host+document.location.pathname+this.hash_+r},c.prototype.setUrlReplace=function(t){try{if(this.replaceState_=t,t)window.history.replaceState(null,null,this.getLink());else{var e="";for(var n in this.search_)e+=(""==e?"?":"&")+n+"="+this.search_[n];window.history.replaceState(null,null,document.location.origin+document.location.pathname+e)}}catch(t){}},c.prototype.viewChange_=function(){try{this.replaceState_&&window.history.replaceState(null,null,this.getLink())}catch(t){}},c.prototype.layerChange_=function(){var t="";!function e(n){for(var o=0;o<n.length;o++)n[o].getVisible()&&n[o].get("permalink")&&(t&&(t+="|"),t+=n[o].get("permalink")+":"+n[o].get("opacity")),n[o].getLayers&&e(n[o].getLayers().getArray())}(this.getMap().getLayers().getArray()),this.layerStr_=t,this.viewChange_()},e.default=c},function(t,e,n){"use strict";n.r(e);var o,i=n(62),r=n(60),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.',i.ATTRIBUTION],c={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},u={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},l=function(t){function e(e){var n=e.layer.indexOf("-"),o=-1==n?e.layer:e.layer.slice(0,n),i=u[o],r=c[e.layer],a=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+r.extension;return t.call(this,{attributions:s,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:null!=e.maxZoom?e.maxZoom:i.maxZoom,minZoom:null!=e.minZoom?e.minZoom:i.minZoom,opaque:r.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:a,wrapX:e.wrapX})||this}return a(e,t),e}(r.a);e.default=l},function(t,e,n){"use strict";n.r(e);var o=n(34),i=n(32),r=function(t){t=t||{};var e=document.createElement("button"),n=document.createElement("div");n.className=(t.className||"ol-swipe")+" ol-unselectable ol-control",n.appendChild(e),n.addEventListener("mousedown",this.move.bind(this)),n.addEventListener("touchstart",this.move.bind(this)),i.a.call(this,{element:n}),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],t.layers&&this.addLayer(t.layers,!1),t.rightLayers&&this.addLayer(t.rightLayers,!0),this.on("propertychange",function(){this.getMap()&&this.getMap().renderSync(),"horizontal"===this.get("orientation")?(this.element.style.top=100*this.get("position")+"%",this.element.style.left=""):("vertical"!==this.get("orientation")&&this.set("orientation","vertical"),this.element.style.left=100*this.get("position")+"%",this.element.style.top=""),this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))}.bind(this)),this.set("position",t.position||.5),this.set("orientation",t.orientation||"vertical")};Object(o.a)(r,i.a),r.prototype.setMap=function(t){var e,n;if(this.getMap()){for(e=0;e<this.layers.length;e++)(n=this.layers[e]).right?n.layer.un(["precompose","prerender"],this.precomposeRight_):n.layer.un(["precompose","prerender"],this.precomposeLeft_),n.layer.un(["postcompose","postrender"],this.postcompose_);this.getMap().renderSync()}if(i.a.prototype.setMap.call(this,t),t){for(this._listener=[],e=0;e<this.layers.length;e++)(n=this.layers[e]).right?n.layer.on(["precompose","prerender"],this.precomposeRight_):n.layer.on(["precompose","prerender"],this.precomposeLeft_),n.layer.on(["postcompose","postrender"],this.postcompose_);t.renderSync()}},r.prototype.isLayer_=function(t){for(var e=0;e<this.layers.length;e++)if(this.layers[e].layer===t)return e;return-1},r.prototype.addLayer=function(t,e){t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++){var o=t[n];this.isLayer_(o)<0&&(this.layers.push({layer:o,right:e}),this.getMap()&&(e?o.on(["precompose","prerender"],this.precomposeRight_):o.on(["precompose","prerender"],this.precomposeLeft_),o.on(["postcompose","postrender"],this.postcompose_),this.getMap().renderSync()))}},r.prototype.removeLayer=function(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++){var n=this.isLayer_(t[e]);n>=0&&this.getMap()&&(this.layers[n].right?t[e].un(["precompose","prerender"],this.precomposeRight_):t[e].un(["precompose","prerender"],this.precomposeLeft_),t[e].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(n,1),this.getMap().renderSync())}},r.prototype.move=function(t){var e,n=this;switch(t.type){case"touchcancel":case"touchend":case"mouseup":n.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(t){document.removeEventListener(t,n.move)});break;case"mousedown":case"touchstart":n.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(t){document.addEventListener(t,n.move.bind(n))});case"mousemove":case"touchmove":if(n.isMoving)if("vertical"===n.get("orientation")){var o=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX;if(!o)break;o-=n.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,e=n.getMap().getSize()[0],e=Math.min(Math.max(0,1-(e-o)/e),1),n.set("position",e)}else{var i=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY;if(!i)break;i-=n.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,e=n.getMap().getSize()[1],e=Math.min(Math.max(0,1-(e-i)/e),1),n.set("position",e)}}},r.prototype.precomposeLeft=function(t){var e=t.context,n=e.canvas;e.save(),e.beginPath(),"vertical"===this.get("orientation")?e.rect(0,0,n.width*this.get("position"),n.height):e.rect(0,0,n.width,n.height*this.get("position")),e.clip()},r.prototype.precomposeRight=function(t){var e=t.context,n=e.canvas;e.save(),e.beginPath(),"vertical"===this.get("orientation")?e.rect(n.width*this.get("position"),0,n.width,n.height):e.rect(0,n.height*this.get("position"),n.width,n.height),e.clip()},r.prototype.postcompose=function(t){t.context.restore()},e.default=r},function(t,e,n){"use strict";n.r(e);var o,i=n(3),r=n(53),a={ADD:"add",REMOVE:"remove"},s=n(13),c=n(22),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l="length",h=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.element=n,i.index=o,i}return u(e,t),e}(c.a),p=function(t){function e(e,n){var o=t.call(this)||this,i=n||{};if(o.unique_=!!i.unique,o.array_=e||[],o.unique_)for(var r=0,a=o.array_.length;r<a;++r)o.assertUnique_(o.array_[r],r);return o.updateLength_(),o}return u(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(l)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new h(a.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new h(a.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new h(a.REMOVE,o,t)),this.dispatchEvent(new h(a.ADD,e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(l,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,o=this.array_.length;n<o;++n)if(this.array_[n]===t&&n!==e)throw new r.a(58)},e}(s.a),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==o?o:null,i}return f(e,t),e}(c.a),g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(t){function e(e,n,o,i,r){var a=t.call(this,e,n,r)||this;return a.originalEvent=o,a.pixel=n.getEventPixel(o),a.coordinate=n.getCoordinateFromPixel(a.pixel),a.dragging=void 0!==i&&i,a}return g(e,t),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(d),v=n(19),y=n(4),m={SINGLECLICK:"singleclick",CLICK:y.a.CLICK,DBLCLICK:y.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),O=function(t){function e(e,n,o,i,r){var a=t.call(this,e,n,o.originalEvent,i,r)||this;return a.pointerEvent=o,a}return b(e,t),e}(_),E=n(1),x=n(27),w={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},T=function(){function t(t,e){this.dispatcher=t,this.mapping_=e}return t.prototype.getEvents=function(){return Object.keys(this.mapping_)},t.prototype.getHandlerForEvent=function(t){return this.mapping_[t]},t}(),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),R=1,j="mouse";function S(t){if(!this.isEventSimulatedFromTouch_(t)){R.toString()in this.pointerMap&&this.cancel(t);var e=I(t,this.dispatcher);this.pointerMap[R.toString()]=t,this.dispatcher.down(e,t)}}function P(t){if(!this.isEventSimulatedFromTouch_(t)){var e=I(t,this.dispatcher);this.dispatcher.move(e,t)}}function A(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[R.toString()];if(e&&e.button===t.button){var n=I(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function L(t){if(!this.isEventSimulatedFromTouch_(t)){var e=I(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function M(t){if(!this.isEventSimulatedFromTouch_(t)){var e=I(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function I(t,e){var n=e.cloneEvent(t,t),o=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),o()},n.pointerId=R,n.isPrimary=!0,n.pointerType=j,n}var F=function(t){function e(e){var n=this,o={mousedown:S,mousemove:P,mouseup:A,mouseover:L,mouseout:M};return(n=t.call(this,e,o)||this).pointerMap=e.pointerMap,n.lastTouches=[],n}return C(e,t),e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,o=t.clientY,i=0,r=e.length,a=void 0;i<r&&(a=e[i]);i++){var s=Math.abs(n-a[0]),c=Math.abs(o-a[1]);if(s<=25&&c<=25)return!0}return!1},e.prototype.cancel=function(t){var e=I(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[R.toString()]},e}(T),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),D=["","unavailable","touch","pen","mouse"];function N(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function G(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function z(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function U(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function K(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function X(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function Z(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function Y(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var W=function(t){function e(e){var n=this,o={MSPointerDown:N,MSPointerMove:G,MSPointerUp:z,MSPointerOut:U,MSPointerOver:K,MSPointerCancel:X,MSGotPointerCapture:Y,MSLostPointerCapture:Z};return(n=t.call(this,e,o)||this).pointerMap=e.pointerMap,n}return k(e,t),e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=D[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(T),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function H(t){this.dispatcher.fireNativeEvent(t)}function B(t){this.dispatcher.fireNativeEvent(t)}function q(t){this.dispatcher.fireNativeEvent(t)}function Q(t){this.dispatcher.fireNativeEvent(t)}function J(t){this.dispatcher.fireNativeEvent(t)}function $(t){this.dispatcher.fireNativeEvent(t)}function tt(t){this.dispatcher.fireNativeEvent(t)}function et(t){this.dispatcher.fireNativeEvent(t)}var nt=function(t){function e(e){var n={pointerdown:H,pointermove:B,pointerup:q,pointerout:Q,pointerover:J,pointercancel:$,gotpointercapture:et,lostpointercapture:tt};return t.call(this,e,n)||this}return V(e,t),e}(T),ot=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),it=!1,rt=function(t){function e(e,n,o){var i=t.call(this,e)||this;i.originalEvent=n;var r=o||{};return i.buttons=function(t){var e;if(t.buttons||it)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),i.pressure=function(t,e){var n=0;n=t.pressure?t.pressure:e?.5:0;return n}(r,i.buttons),i.bubbles="bubbles"in r&&r.bubbles,i.cancelable="cancelable"in r&&r.cancelable,i.view="view"in r?r.view:null,i.detail="detail"in r?r.detail:null,i.screenX="screenX"in r?r.screenX:0,i.screenY="screenY"in r?r.screenY:0,i.clientX="clientX"in r?r.clientX:0,i.clientY="clientY"in r?r.clientY:0,i.ctrlKey="ctrlKey"in r&&r.ctrlKey,i.altKey="altKey"in r&&r.altKey,i.shiftKey="shiftKey"in r&&r.shiftKey,i.metaKey="metaKey"in r&&r.metaKey,i.button="button"in r?r.button:0,i.relatedTarget="relatedTarget"in r?r.relatedTarget:null,i.pointerId="pointerId"in r?r.pointerId:0,i.width="width"in r?r.width:0,i.height="height"in r?r.height:0,i.tiltX="tiltX"in r?r.tiltX:0,i.tiltY="tiltY"in r?r.tiltY:0,i.pointerType="pointerType"in r?r.pointerType:"",i.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,i.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(i.preventDefault=function(){n.preventDefault()}),i}return ot(e,t),e}(c.a);!function(){try{var t=new MouseEvent("click",{buttons:1});it=1===t.buttons}catch(t){}}();var at=rt,st=n(17),ct=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function ut(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function lt(t){this.processTouches_(t,this.moveOverOut_)}function ht(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function pt(t){this.processTouches_(t,this.cancelOut_)}var ft=function(t){function e(e,n){var o=this,i={touchstart:ut,touchmove:lt,touchend:ht,touchcancel:pt};return(o=t.call(this,e,i)||this).pointerMap=e.pointerMap,o.mouseSource=n,o.firstTouchId_=void 0,o.clickCount_=0,o.resetId_,o.dedupTimeout_=2500,o}return ct(e,t),e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&R.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),o=n.length;function i(){t.preventDefault()}for(var r=0;r<o;++r){var a=this.touchToPointer_(t,n[r]);a.preventDefault=i,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,o=0;o<n;o++){if(t[o].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),o=n.length;if(o>=e.length){for(var i=[],r=0;r<o;++r){var a=Number(n[r]),s=this.pointerMap[a];a==R||this.findTouch_(e,a-2)||i.push(s.out)}for(r=0;r<i.length;++r)this.cancelOut_(t,i[r])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,o=this.pointerMap[n.pointerId];if(o){var i=o.out,r=o.outTarget;this.dispatcher.move(n,t),i&&r!==n.target&&(i.relatedTarget=n.target,n.relatedTarget=r,i.target=r,n.target?(this.dispatcher.leaveOut(i,t),this.dispatcher.enterOver(n,t)):(n.target=r,n.relatedTarget=null,this.cancelOut_(t,n))),o.out=n,o.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var o=[n.clientX,n.clientY];e.push(o),setTimeout(function(){Object(st.f)(e,o)},this.dedupTimeout_)}},e}(T),dt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gt=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],_t=function(t){function e(e){var n=t.call(this)||this;return n.element_=e,n.pointerMap={},n.eventMap_={},n.eventSourceList_=[],n.registerSources(),n}return dt(e,t),e.prototype.registerSources=function(){if("PointerEvent"in window)this.registerSource("native",new nt(this));else if(window.navigator.msPointerEnabled)this.registerSource("ms",new W(this));else{var t=new F(this);this.registerSource("mouse",t),"ontouchstart"in window&&this.registerSource("touch",new ft(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,o=n.getEvents();o&&(o.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(E.a)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(E.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},o=0,i=gt.length;o<i;o++){var r=gt[o][0];n[r]=t[r]||e[r]||gt[o][1]}return n},e.prototype.down=function(t,e){this.fireEvent(w.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(w.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(w.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(w.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(w.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(w.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(w.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(w.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new at(t,n,e)},e.prototype.fireEvent=function(t,e,n){var o=this.makeEvent(t,e,n);this.dispatchEvent(o)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,I(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(x.a),vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yt=function(t){function e(e,n){var o=t.call(this)||this;o.map_=e,o.clickTimeoutId_,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=n?n*v.a:v.a,o.down_=null;var i=o.map_.getViewport();return o.activePointers_=0,o.trackedTouches_={},o.pointerEventHandler_=new _t(i),o.documentPointerEventHandler_=null,o.pointerdownListenerKey_=Object(E.a)(o.pointerEventHandler_,w.POINTERDOWN,o.handlePointerDown_,o),o.relayedListenerKey_=Object(E.a)(o.pointerEventHandler_,w.POINTERMOVE,o.relayEvent_,o),o}return vt(e,t),e.prototype.emulateClick_=function(t){var e=new O(m.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new O(m.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new O(m.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==m.POINTERUP||e.type==m.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==m.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new O(m.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(E.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new O(m.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new _t(document),this.dragListenerKeys_.push(Object(E.a)(this.documentPointerEventHandler_,m.POINTERMOVE,this.handlePointerMove_,this),Object(E.a)(this.documentPointerEventHandler_,m.POINTERUP,this.handlePointerUp_,this),Object(E.a)(this.pointerEventHandler_,m.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new O(m.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new O(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(E.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(E.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(E.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(x.a),mt=n(44),bt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Ot=n(30),Et=n(38),xt=n(5),wt=n(7),Tt=n(10),Ct=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(Tt.b)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var o=this.keyFunction_(n);return delete this.queuedElements_[o],n},t.prototype.enqueue=function(t){Object(wt.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,o=e.length,i=e[t],r=n[t],a=t;t<o>>1;){var s=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),u=c<o&&n[c]<n[s]?c:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=i,n[t]=r,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,o=this.priorities_,i=n[e],r=o[e];e>t;){var a=this.getParentIndex_(e);if(!(o[a]>r))break;n[e]=n[a],o[e]=o[a],e=a}n[e]=i,o[e]=r},t.prototype.reprioritize=function(){var t,e,n,o=this.priorityFunction_,i=this.elements_,r=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=o(t=i[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(r[a]=n,i[a++]=t);i.length=a,r.length=a,this.heapify_()},t}(),Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jt=function(t){function e(e,n){var o=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return o.tileChangeCallback_=n,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return Rt(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var o=e[0];Object(E.a)(o,y.a.CHANGE,this.handleTileChange,this)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===xt.a.LOADED||n===xt.a.ERROR||n===xt.a.EMPTY||n===xt.a.ABORT){Object(E.c)(e,y.a.CHANGE,this.handleTileChange,this);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,o,i,r=0,a=!1;this.tilesLoading_<t&&r<e&&this.getCount()>0;)i=(o=this.dequeue()[0]).getKey(),(n=o.getState())===xt.a.ABORT?a=!0:n!==xt.a.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,o.load());0===r&&a&&this.tileChangeCallback_()},e}(Ct),St=n(63),Pt=n(25),At=n(18),Lt=n(0),Mt=n(12),It=n(55),Ft=n(29),kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dt={LAYERS:"layers"},Nt=function(t){function e(e){var n=this,o=e||{},i=Object(Tt.a)({},o);delete i.layers;var r=o.layers;return(n=t.call(this,i)||this).layersListenerKeys_=[],n.listenerKeys_={},Object(E.a)(n,Object(s.b)(Dt.LAYERS),n.handleLayersChanged_,n),r?Array.isArray(r)?r=new p(r.slice(),{unique:!0}):Object(wt.a)("function"==typeof r.getArray,43):r=new p(void 0,{unique:!0}),n.setLayers(r),n}return kt(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(E.e),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(E.a)(t,a.ADD,this.handleLayersAdd_,this),Object(E.a)(t,a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(E.e);Object(Tt.b)(this.listenerKeys_);for(var n=t.getArray(),o=0,r=n.length;o<r;o++){var s=n[o];this.listenerKeys_[Object(i.c)(s)]=[Object(E.a)(s,Et.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(E.a)(s,y.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.c)(e)]=[Object(E.a)(e,Et.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(E.a)(e,y.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(i.c)(e);this.listenerKeys_[n].forEach(E.e),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(Dt.LAYERS)},e.prototype.setLayers=function(t){this.set(Dt.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var o=this.getLayerState(),i=n,r=e.length;i<r;i++){var a=e[i];a.opacity*=o.opacity,a.visible=a.visible&&o.visible,a.maxResolution=Math.min(a.maxResolution,o.maxResolution),a.minResolution=Math.max(a.minResolution,o.minResolution),a.minZoom=Math.max(a.minZoom,o.minZoom),a.maxZoom=Math.min(a.maxZoom,o.maxZoom),void 0!==o.extent&&(void 0!==a.extent?a.extent=Object(Lt.z)(a.extent,o.extent):a.extent=o.extent)}return e},e.prototype.getSourceState=function(){return Ft.a.READY},e}(It.a),Gt=n(23),zt=n(6),Ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();var Kt=function(t){function e(e){var n=t.call(this)||this,o=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,o,i,r={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Nt({layers:t.layers});r[bt.LAYERGROUP]=a,r[bt.TARGET]=t.target,r[bt.VIEW]=void 0!==t.view?t.view:new St.default,void 0!==t.controls&&(Array.isArray(t.controls)?n=new p(t.controls.slice()):(Object(wt.a)("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new p(t.interactions.slice()):(Object(wt.a)("function"==typeof t.interactions.getArray,48),o=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?i=new p(t.overlays.slice()):(Object(wt.a)("function"==typeof t.overlays.getArray,49),i=t.overlays):i=new p;return{controls:n,interactions:o,keyboardEventTarget:e,overlays:i,values:r}}(e);for(var i in n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:v.a,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=Object(zt.c)(),n.pixelToCoordinateTransform_=Object(zt.c)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.viewport_.style.msTouchAction="none",n.viewport_.style.touchAction="none",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new yt(n,e.moveTolerance),m)Object(E.a)(n.mapBrowserEventHandler_,m[i],n.handleMapBrowserEvent,n);return n.keyboardEventTarget_=o.keyboardEventTarget,n.keyHandlerKeys_=null,Object(E.a)(n.viewport_,y.a.CONTEXTMENU,n.handleBrowserEvent,n),Object(E.a)(n.viewport_,y.a.WHEEL,n.handleBrowserEvent,n),Object(E.a)(n.viewport_,y.a.MOUSEWHEEL,n.handleBrowserEvent,n),n.controls=o.controls||new p,n.interactions=o.interactions||new p,n.labelCache_=null,n.labelCacheListenerKey_,n.overlays_=o.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.focus_=null,n.postRenderFunctions_=[],n.tileQueue_=new jt(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.skippedFeatureUids_={},Object(E.a)(n,Object(s.b)(bt.LAYERGROUP),n.handleLayerGroupChanged_,n),Object(E.a)(n,Object(s.b)(bt.VIEW),n.handleViewChanged_,n),Object(E.a)(n,Object(s.b)(bt.SIZE),n.handleSizeChanged_,n),Object(E.a)(n,Object(s.b)(bt.TARGET),n.handleTargetChanged_,n),n.setProperties(o.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),Object(E.a)(n.controls,a.ADD,function(t){t.element.setMap(this)},n),Object(E.a)(n.controls,a.REMOVE,function(t){t.element.setMap(null)},n),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),Object(E.a)(n.interactions,a.ADD,function(t){t.element.setMap(this)},n),Object(E.a)(n.interactions,a.REMOVE,function(t){t.element.setMap(null)},n),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),Object(E.a)(n.overlays_,a.ADD,function(t){this.addOverlayInternal_(t.element)},n),Object(E.a)(n.overlays_,a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},n),n}return Ut(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(E.c)(this.viewport_,y.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(E.c)(this.viewport_,y.a.WHEEL,this.handleBrowserEvent,this),Object(E.c)(this.viewport_,y.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(y.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var o=this.getCoordinateFromPixel(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,r=void 0!==n.layerFilter?n.layerFilter:Mt.b;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,i,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var o=n||{},i=void 0!==o.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,r=o.layerFilter||Mt.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,r)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),o=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Mt.b,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(bt.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(zt.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(bt.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e].layer.getSource();if(o&&o.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(zt.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(bt.SIZE)},e.prototype.getView=function(){return this.get(bt.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,o){var i=this.frameState_;if(!(i&&e in i.wantedTiles))return 1/0;if(!i.wantedTiles[e][t.getKey()])return 1/0;var r=n[0]-i.focus[0],a=n[1]-i.focus[1];return 65536*Math.log(o)+Math.sqrt(r*r+a*a)/o},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,o=new _(n,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}this.focus_=t.coordinate,t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var o=n.length-1;o>=0;o--){var i=n[o];if(i.getActive())if(!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,o=n;if(t){var i=t.viewHints;if(i[Pt.a.ANIMATING]||i[Pt.a.INTERACTING]){var r=!v.c&&Date.now()-t.time>8;n=r?0:8,o=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,o))}!t||!this.hasListener(Ot.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(Ot.a.RENDERCOMPLETE,t);for(var a=this.postRenderFunctions_,s=0,c=a.length;s<c;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(E.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(E.a)(o,y.a.KEYDOWN,this.handleBrowserEvent,this),Object(E.a)(o,y.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(y.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),Object(At.c)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(y.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(E.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(E.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(i.c)(t)),this.viewPropertyListenerKey_=Object(E.a)(t,Et.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(E.a)(t,y.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(E.e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(E.a)(t,Et.a.PROPERTYCHANGE,this.render,this),Object(E.a)(t,y.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),o=this.getView(),i=Object(Lt.h)(),r=this.frameState_,a=null;if(void 0!==n&&Object(Gt.a)(n)&&o&&o.isDef()){var s=o.getHints(this.frameState_?this.frameState_.viewHints:void 0);e=o.getState(),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:r?r.declutterItems:[],extent:i,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:s,wantedTiles:{}}}if(a&&(a.extent=Object(Lt.x)(e.center,e.resolution,e.rotation,a.size,i)),this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r)(!this.previousExtent_||!Object(Lt.F)(this.previousExtent_)&&!Object(Lt.n)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new d(mt.a.MOVESTART,this,r)),this.previousExtent_=Object(Lt.j)(this.previousExtent_));this.previousExtent_&&!a.viewHints[Pt.a.ANIMATING]&&!a.viewHints[Pt.a.INTERACTING]&&!Object(Lt.n)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new d(mt.a.MOVEEND,this,a)),Object(Lt.c)(a.extent,this.previousExtent_))}this.dispatchEvent(new d(mt.a.POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(bt.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(bt.SIZE,t)},e.prototype.setTarget=function(t){this.set(bt.TARGET,t)},e.prototype.setView=function(t){this.set(bt.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(i.c)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(i.c)(t)],this.render()},e}(s.a),Xt=n(33),Zt=n(16),Yt=n(36),Wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function Vt(t){this.updateElement_(t.frameState)}var Ht=function(t){function e(e){var n=this,o=e||{};(n=t.call(this,{element:document.createElement("div"),render:o.render||Vt,target:o.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===o.collapsed||o.collapsed,n.overrideCollapsible_=void 0!==o.collapsible,n.collapsible_=void 0===o.collapsible||o.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==o.className?o.className:"ol-attribution",r=void 0!==o.tipLabel?o.tipLabel:"Attributions",a=void 0!==o.collapseLabel?o.collapseLabel:"»";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==o.label?o.label:"i";"string"==typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=r,u.appendChild(c),Object(E.a)(u,y.a.CLICK,n.handleClick_,n);var l=i+" "+Zt.d+" "+Zt.b+(n.collapsed_&&n.collapsible_?" "+Zt.a:"")+(n.collapsible_?"":" ol-uncollapsible"),h=n.element;return h.className=l,h.appendChild(n.ulElement_),h.appendChild(u),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return Wt(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],o=t.layerStatesArray,i=0,r=o.length;i<r;++i){var a=o[i];if(Object(Yt.b)(a,t.viewState)){var s=a.layer.getSource();if(s){var c=s.getAttributions();if(c){var u=c(t);if(u)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(u))for(var l=0,h=u.length;l<h;++l)u[l]in e||(n.push(u[l]),e[u[l]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(st.a)(e,this.renderedAttributions_)){Object(At.b)(this.ulElement_);for(var o=0,i=e.length;o<i;++o){var r=document.createElement("li");r.innerHTML=e[o],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(Zt.a),this.collapsed_?Object(At.e)(this.collapseLabel_,this.label_):Object(At.e)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(Xt.a),Bt=n(20),qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function Qt(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var o="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(Zt.c);i||0!==n?i&&0!==n&&this.element.classList.remove(Zt.c):this.element.classList.add(Zt.c)}this.label_.style.transform=o}this.rotation_=n}}var Jt=function(t){function e(e){var n=this,o=e||{};n=t.call(this,{element:document.createElement("div"),render:o.render||Qt,target:o.target})||this;var i=void 0!==o.className?o.className:"ol-rotate",r=void 0!==o.label?o.label:"⇧";n.label_=null,"string"==typeof r?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=r):(n.label_=r,n.label_.classList.add("ol-compass"));var a=o.tipLabel?o.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),Object(E.a)(s,y.a.CLICK,n.handleClick_,n);var c=i+" "+Zt.d+" "+Zt.b,u=n.element;return u.className=c,u.appendChild(s),n.callResetNorth_=o.resetNorth?o.resetNorth:void 0,n.duration_=void 0!==o.duration?o.duration:250,n.autoHide_=void 0===o.autoHide||o.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Zt.c),n}return qt(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:Bt.b}):t.setRotation(0))},e}(Xt.a),$t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),te=function(t){function e(e){var n=this,o=e||{};n=t.call(this,{element:document.createElement("div"),target:o.target})||this;var i=void 0!==o.className?o.className:"ol-zoom",r=void 0!==o.delta?o.delta:1,a=void 0!==o.zoomInLabel?o.zoomInLabel:"+",s=void 0!==o.zoomOutLabel?o.zoomOutLabel:"−",c=void 0!==o.zoomInTipLabel?o.zoomInTipLabel:"Zoom in",u=void 0!==o.zoomOutTipLabel?o.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=i+"-in",l.setAttribute("type","button"),l.title=c,l.appendChild("string"==typeof a?document.createTextNode(a):a),Object(E.a)(l,y.a.CLICK,n.handleClick_.bind(n,r));var h=document.createElement("button");h.className=i+"-out",h.setAttribute("type","button"),h.title=u,h.appendChild("string"==typeof s?document.createTextNode(s):s),Object(E.a)(h,y.a.CLICK,n.handleClick_.bind(n,-r));var p=i+" "+Zt.d+" "+Zt.b,f=n.element;return f.className=p,f.appendChild(l),f.appendChild(h),n.duration_=void 0!==o.duration?o.duration:250,n}return $t(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var o=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:o,duration:this.duration_,easing:Bt.b})):e.setZoom(o)}}},e}(Xt.a);var ee=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var o=this.points_[e+2]-this.points_[n+2];if(o<1e3/60)return!1;var i=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,i),this.initialVelocity_=Math.sqrt(i*i+r*r)/o,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),ne="active",oe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function ie(t,e,n,o){var i=t.getZoom();if(void 0!==i){var r=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==o?o:250,easing:Bt.b})}}var re=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return oe(e,t),e.prototype.getActive=function(){return this.get(ne)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(ne,t)},e.prototype.setMap=function(t){this.map_=t},e}(s.a),ae=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function se(t){var e=!1;if(t.type==m.DBLCLICK){var n=t.originalEvent,o=t.map,i=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;ie(o.getView(),r,i,this.duration_),t.preventDefault(),e=!0}return!e}var ce=function(t){function e(e){var n=t.call(this,{handleEvent:se})||this,o=e||{};return n.delta_=o.delta?o.delta:1,n.duration_=void 0!==o.duration?o.duration:250,n}return ae(e,t),e}(re),ue=n(28),le=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},he=function(t){return t.target.getTargetElement()===document.activeElement},pe=Mt.b,fe=function(t){var e=t.originalEvent;return 0==e.button&&!(v.f&&v.d&&e.ctrlKey)},de=(Mt.a,function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}),ge=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_e=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},ve=function(t){var e=t.pointerEvent;return Object(wt.a)(void 0!==e,56),"mouse"==e.pointerType},ye=function(t){var e=t.pointerEvent;return Object(wt.a)(void 0!==e,56),e.isPrimary&&0===e.button},me=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function be(t){for(var e=t.length,n=0,o=0,i=0;i<e;i++)n+=t[i].clientX,o+=t[i].clientY;return[n/e,o/e]}var Oe=function(t){function e(e){var n=this,o=e||{};return n=t.call(this,o)||this,o.handleDownEvent&&(n.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(n.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(n.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(n.handleUpEvent=o.handleUpEvent),o.stopDown&&(n.stopDown=o.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return me(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==m.POINTERDRAG)this.handleDragEvent(t);else if(t.type==m.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==m.POINTERDOWN){var o=this.handleDownEvent(t);o&&t.preventDefault(),this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==m.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===m.POINTERDOWN||e===m.POINTERDRAG||e===m.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==m.POINTERUP?delete this.trackedPointers_[n]:t.type==m.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Object(Tt.c)(this.trackedPointers_)}},e}(re),Ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function xe(t){return de(t)&&ye(t)}var we=function(t){function e(e){var n=t.call(this,{stopDown:Mt.a})||this,o=e||{};return n.kinetic_=o.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=o.condition?o.condition:xe,n.noKinetic_=!1,n}return Ee(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=be(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var o=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map.getView();Object(ue.d)(o,i.getResolution()),Object(ue.c)(o,i.getRotation()),i.adjustCenter(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenter(),a=e.getPixelFromCoordinate(r),s=e.getCoordinateFromPixel([a[0]-o*Math.cos(i),a[1]-o*Math.sin(i)]);n.animate({center:n.getConstrainedCenter(s),duration:500,easing:Bt.b})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Oe),Te=n(35),Ce=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Re=function(t){function e(e){var n=this,o=e||{};return(n=t.call(this,{stopDown:Mt.a})||this).condition_=o.condition?o.condition:le,n.lastAngle_=void 0,n.duration_=void 0!==o.duration?o.duration:250,n}return Ce(e,t),e.prototype.handleDragEvent=function(t){if(ve(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Te.c){var o=e.getSize(),i=t.pixel,r=Math.atan2(o[1]/2-i[1],i[0]-o[0]/2);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;n.adjustRotation(-a)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){return!ve(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!ve(t)&&(!(!fe(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(Oe),je=n(43),Se=n(49),Pe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ae=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return Pe(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Se.a([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(je.a),Le=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Me="boxstart",Ie="boxdrag",Fe="boxend",ke=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=o,i}return Le(e,t),e}(c.a),De=function(t){function e(e){var n=t.call(this)||this,o=e||{};return n.box_=new Ae(o.className||"ol-dragbox"),n.minArea_=void 0!==o.minArea?o.minArea:64,n.onBoxEnd_=o.onBoxEnd?o.onBoxEnd:Mt.c,n.startPixel_=null,n.condition_=o.condition?o.condition:pe,n.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:n.defaultBoxEndCondition,n}return Le(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var o=n[0]-e[0],i=n[1]-e[1];return o*o+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){ve(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new ke(Ie,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!ve(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new ke(Fe,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!ve(t)&&(!(!fe(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ke(Me,t.coordinate,t)),!0))},e}(Oe),Ne=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function Ge(){var t=this.getMap(),e=t.getView(),n=t.getSize(),o=this.getGeometry().getExtent();if(this.out_){var i=e.calculateExtent(n),r=Object(Lt.l)([t.getPixelFromCoordinate(Object(Lt.t)(o)),t.getPixelFromCoordinate(Object(Lt.B)(o))]),a=e.getResolutionForExtent(r,n);Object(Lt.H)(i,1/a),o=i}var s=e.getConstrainedResolution(e.getResolutionForExtent(o,n)),c=e.getConstrainedCenter(Object(Lt.v)(o),s);e.animate({resolution:s,center:c,duration:this.duration_,easing:Bt.b})}var ze=function(t){function e(e){var n=this,o=e||{},i=o.condition?o.condition:ge;return(n=t.call(this,{condition:i,className:o.className||"ol-dragzoom",minArea:o.minArea,onBoxEnd:Ge})||this).duration_=void 0!==o.duration?o.duration:200,n.out_=void 0!==o.out&&o.out,n}return Ne(e,t),e}(De),Ue={LEFT:37,UP:38,RIGHT:39,DOWN:40},Ke=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function Xe(t){var e=!1;if(t.type==y.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Ue.DOWN||n==Ue.LEFT||n==Ue.RIGHT||n==Ue.UP)){var o=t.map.getView(),i=o.getResolution()*this.pixelDelta_,r=0,a=0;n==Ue.DOWN?a=-i:n==Ue.LEFT?r=-i:n==Ue.RIGHT?r=i:a=i;var s=[r,a];Object(ue.c)(s,o.getRotation()),function(t,e,n){var o=t.getCenter();if(o){var i=[o[0]+e[0],o[1]+e[1]];t.animate_({duration:void 0!==n?n:250,easing:Bt.d,center:t.getConstrainedCenter(i)})}}(o,s,this.duration_),t.preventDefault(),e=!0}}return!e}var Ze=function(t){function e(e){var n=t.call(this,{handleEvent:Xe})||this,o=e||{};return n.defaultCondition_=function(t){return de(t)&&_e(t)},n.condition_=void 0!==o.condition?o.condition:n.defaultCondition_,n.duration_=void 0!==o.duration?o.duration:100,n.pixelDelta_=void 0!==o.pixelDelta?o.pixelDelta:128,n}return Ke(e,t),e}(re),Ye=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function We(t){var e=!1;if(t.type==y.a.KEYDOWN||t.type==y.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var o=t.map,i=n=="+".charCodeAt(0)?this.delta_:-this.delta_;ie(o.getView(),i,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Ve=function(t){function e(e){var n=t.call(this,{handleEvent:We})||this,o=e||{};return n.condition_=o.condition?o.condition:_e,n.delta_=o.delta?o.delta:1,n.duration_=void 0!==o.duration?o.duration:100,n}return Ye(e,t),e}(re),He=n(2),Be=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qe="trackpad",Qe="wheel",Je=function(t){function e(e){var n=this,o=e||{};return(n=t.call(this,o)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==o.maxDelta?o.maxDelta:1,n.duration_=void 0!==o.duration?o.duration:250,n.timeout_=void 0!==o.timeout?o.timeout:80,n.useAnchor_=void 0===o.useAnchor||o.useAnchor,n.condition_=o.condition?o.condition:pe,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return Be(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==y.a.WHEEL&&e!==y.a.MOUSEWHEEL)return!0;t.preventDefault();var n,o=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==y.a.WHEEL?(n=i.deltaY,v.b&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=v.a),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==y.a.MOUSEWHEEL&&(n=-i.wheelDeltaY,v.e&&(n/=3)),0===n)return!1;this.lastDelta_=n;var r=Date.now();if(void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?qe:Qe),this.mode_===qe){var a=o.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),a.adjustZoom(-n/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1}this.totalDelta_+=n;var s=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),ie(e,-Object(He.a)(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(re),$e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tn=function(t){function e(e){var n=this,o=e||{},i=o;return i.stopDown||(i.stopDown=Mt.a),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==o.threshold?o.threshold:.3,n.duration_=void 0!==o.duration?o.duration:250,n}return $e(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],o=this.targetPointers[1],i=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=i-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Te.c){var c=a.getViewport().getBoundingClientRect(),u=be(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=a.getCoordinateFromPixel(u),this.rotating_&&(a.render(),s.adjustRotation(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Oe),en=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nn=function(t){function e(e){var n=this,o=e||{},i=o;return i.stopDown||(i.stopDown=Mt.a),(n=t.call(this,i)||this).anchor_=null,n.duration_=void 0!==o.duration?o.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return en(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],o=this.targetPointers[1],i=n.clientX-o.clientX,r=n.clientY-o.clientY,a=Math.sqrt(i*i+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,c=s.getView();1!=e&&(this.lastScaleDelta_=e);var u=s.getViewport().getBoundingClientRect(),l=be(this.targetPointers);l[0]-=u.left,l[1]-=u.top,this.anchor_=s.getCoordinateFromPixel(l),s.render(),c.adjustResolution(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Oe);var on=n(57),rn=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,an=/^([a-z]*)$/i;var sn,cn;sn={},cn=0;function un(t){return t[0]=Object(He.a)(t[0]+.5|0,0,255),t[1]=Object(He.a)(t[1]+.5|0,0,255),t[2]=Object(He.a)(t[2]+.5|0,0,255),t[3]=Object(He.a)(t[3],0,1),t}function ln(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var o=t[2];return o!=(0|o)&&(o=o+.5|0),"rgba("+e+","+n+","+o+","+(void 0===t[3]?1:t[3])+")"}var hn=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var o=pn(t,e,n);return o in this.cache_?this.cache_[o]:null},t.prototype.set=function(t,e,n,o){var i=pn(t,e,n);this.cache_[i]=o,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function pn(t,e,n){return e+":"+t+":"+(n?function(t){return"string"==typeof t?t:ln(t)}(n):"null")}var fn=new hn;function dn(t){return Array.isArray(t)?ln(t):t}var gn=n(8),_n=n(37),vn=n(31),yn=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),mn=n(14),bn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(t){function e(e,n,o,i,r){var a=t.call(this)||this;return a.context_=e,a.pixelRatio_=n,a.extent_=o,a.transform_=i,a.viewRotation_=r,a.contextFillState_=null,a.contextStrokeState_=null,a.contextTextState_=null,a.fillState_=null,a.strokeState_=null,a.image_=null,a.imageAnchorX_=0,a.imageAnchorY_=0,a.imageHeight_=0,a.imageOpacity_=0,a.imageOriginX_=0,a.imageOriginY_=0,a.imageRotateWithView_=!1,a.imageRotation_=0,a.imageScale_=0,a.imageWidth_=0,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=!1,a.textRotation_=0,a.textScale_=0,a.textFillState_=null,a.textStrokeState_=null,a.textState_=null,a.pixelCoordinates_=[],a.tmpLocalTransform_=Object(zt.c)(),a}bn(e,t),e.prototype.drawImages_=function(t,e,n,o){if(this.image_){var i=Object(vn.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.tmpLocalTransform_,s=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=s*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var u=0,l=i.length;u<l;u+=2){var h=i[u]-this.imageAnchorX_,p=i[u+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_){var f=h+this.imageAnchorX_,d=p+this.imageAnchorY_;Object(zt.b)(a,f,d,this.imageScale_,this.imageScale_,c,-f,-d),r.setTransform.apply(r,a)}r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||r.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(r.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,o){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Object(vn.c)(t,e,n,o,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=o){var s=i[e]+this.textOffsetX_,c=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=Object(zt.b)(this.tmpLocalTransform_,s,c,this.textScale_,this.textScale_,a,-s,-c);r.setTransform.apply(r,u)}this.textStrokeState_&&r.strokeText(this.text_,s,c),this.textFillState_&&r.fillText(this.text_,s,c)}0===a&&1==this.textScale_||r.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,o,i){var r=this.context_,a=Object(vn.c)(t,e,n,o,this.transform_,this.pixelCoordinates_);r.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var c=2;c<s;c+=2)r.lineTo(a[c],a[c+1]);return i&&r.closePath(),n},e.prototype.drawRings_=function(t,e,n,o){for(var i=0,r=n.length;i<r;++i)e=this.moveToLineTo_(t,e,n[i],o,!0);return e},e.prototype.drawCircle=function(t){if(Object(Lt.D)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(_n.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],o=e[3]-e[1],i=Math.sqrt(n*n+o*o),r=this.context_;r.beginPath(),r.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case gn.a.POINT:this.drawPoint(t);break;case gn.a.LINE_STRING:this.drawLineString(t);break;case gn.a.POLYGON:this.drawPolygon(t);break;case gn.a.MULTI_POINT:this.drawMultiPoint(t);break;case gn.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case gn.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case gn.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case gn.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Object(Lt.D)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,o=e.length;n<o;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(Object(Lt.D)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(Lt.D)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,o=t.getFlatCoordinates(),i=0,r=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,c=r.length;s<c;++s)i=this.moveToLineTo_(o,i,r[s],a,!1);n.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(Lt.D)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(Lt.D)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),o=0,i=t.getEndss(),r=t.getStride();e.beginPath();for(var a=0,s=i.length;a<s;++a){var c=i[a];o=this.drawRings_(n,o,c,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),e.setLineDash&&(Object(st.a)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,o=t.textAlign?t.textAlign:mn.j;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=o&&(n.textAlign=e.textAlign=o),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:dn(n||mn.a)}}else this.fillState_=null;if(e){var o=e.getColor(),i=e.getLineCap(),r=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),c=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:mn.c,lineDash:r||mn.d,lineDashOffset:a||mn.e,lineJoin:void 0!==s?s:mn.f,lineWidth:this.pixelRatio_*(void 0!==c?c:mn.g),miterLimit:void 0!==u?u:mn.h,strokeStyle:dn(o||mn.i)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),o=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:dn(n||mn.a)}}else this.textFillState_=null;var o=t.getStroke();if(o){var i=o.getColor(),r=o.getLineCap(),a=o.getLineDash(),s=o.getLineDashOffset(),c=o.getLineJoin(),u=o.getWidth(),l=o.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:mn.c,lineDash:a||mn.d,lineDashOffset:s||mn.e,lineJoin:void 0!==c?c:mn.f,lineWidth:void 0!==u?u:mn.g,miterLimit:void 0!==l?l:mn.h,strokeStyle:dn(i||mn.i)}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),_=t.getScale(),v=t.getText(),y=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==h?h:mn.b,textAlign:void 0!==y?y:mn.j,textBaseline:void 0!==m?m:mn.k},this.text_=void 0!==v?v:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==_?_:1)}else this.text_=""}}(yn);var On=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function En(t,e){fn.expire()}var xn=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return On(e,t),e.prototype.dispatchRenderEvent=function(t,e){Object(i.b)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;Object(zt.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(zt.d)(o,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r,a,s){var c,u=e.viewState;function l(t,n,a){if(!(Object(i.c)(n)in e.skippedFeatureUids)||t)return o.call(r,n,t?a:null)}var h=u.projection,p=t;if(h.canWrapX()){var f=h.getExtent(),d=Object(Lt.C)(f),g=t[0];if(g<f[0]||g>f[2])p=[g+d*Math.ceil((f[0]-g)/d),t[1]]}var _,v,y=e.layerStatesArray,m=y.length;for(this.declutterTree_&&(_=this.declutterTree_.all().map(function(t){return t.value})),v=m-1;v>=0;--v){var b=y[v],O=b.layer;if(O.hasRenderer()&&Object(Yt.b)(b,u)&&a.call(s,O)){var E=O.getRenderer(),x=O.getSource();if(E&&x){var w=l.bind(null,b.managed);c=E.forEachFeatureAtCoordinate(x.getWrapX()?p:t,e,n,w,_)}if(c)return c}}},e.prototype.forEachLayerAtPixel=function(t,e,n,o,r){return Object(i.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,o,i){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,Mt.b,this,o,i)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,o=n.length-1;o>=0;--o)for(var i=n[o],r=i.items,a=0,s=r.length;a<s;a+=3)e=r[a].renderDeclutter(r[a+1],r[a+2],i.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){fn.canExpireCache()&&t.postRenderFunctions.push(En)},e}(je.a),wn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tn=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=Object(E.a)(mn.l,y.a.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var o=n.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",n.element_.className=Zt.d+" ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return wn(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var o=new on.a(t,void 0,e);n.dispatchEvent(o)}},e.prototype.disposeInternal=function(){Object(E.e)(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(Ot.a.PRECOMPOSE,e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),o=e.viewState;this.children_.length=0;for(var i=!1,r=null,a=0,s=n.length;a<s;++a){var c=n[a];if(i=i||c.hasOverlay,e.layerIndex=a,Object(Yt.b)(c,o)&&(c.sourceState==Ft.a.READY||c.sourceState==Ft.a.UNDEFINED)){var u=c.layer.render(e,r);u&&(u===r&&a!=s-1||2!==u.childElementCount||i||u.removeChild(u.lastElementChild),u!==r&&(this.children_.push(u),i=!1,r=u))}}t.prototype.renderFrame.call(this,e),Object(At.d)(this.element_,this.children_),this.dispatchRenderEvent(Ot.a.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,o,i){for(var r=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var c=a[s],u=c.layer;if(u.hasRenderer()&&Object(Yt.b)(c,r)&&i(u)){var l=u.getRenderer().getDataAtPixel(t,e,n);if(l){var h=o(u,l);if(h)return h}}}},e}(xn),Cn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rn=function(t){function e(e){return(e=Object(Tt.a)({},e)).controls||(e.controls=function(t){var e=t||{},n=new p;return(void 0===e.zoom||e.zoom)&&n.push(new te(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Jt(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Ht(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e=t||{},n=new p,o=new ee(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Re),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new ce({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new we({condition:e.onFocusOnly?he:void 0,kinetic:o})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new tn),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new nn({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Ze),n.push(new Ve({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Je({condition:e.onFocusOnly?he:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new ze({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return Cn(e,t),e.prototype.createRenderer=function(){return new Tn(this)},e}(Kt);e.default=Rn},function(t,e,n){"use strict";n.r(e);var o,i=n(36),r="preload",a="useInterimTilesOnError",s=n(10),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=this,o=e||{},i=Object(s.a)({},o);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==o.preload?o.preload:0),n.setUseInterimTilesOnError(void 0===o.useInterimTilesOnError||o.useInterimTilesOnError),n}return c(e,t),e.prototype.getPreload=function(){return this.get(r)},e.prototype.setPreload=function(t){this.set(r,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(a)},e.prototype.setUseInterimTilesOnError=function(t){this.set(a,t)},e}(i.a),l=n(3),h=n(42),p=n(5),f=n(0),d=n(18),g=n(57),_=n(30),v=n(14),y=n(26),m=n(54),b=n(1),O=n(4),E=n(29),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=function(t){function e(e){var n=t.call(this)||this;return n.layer_=e,n}return x(e,t),e.prototype.prepareFrame=function(t){return Object(l.b)()},e.prototype.renderFrame=function(t,e){return Object(l.b)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(o,i){var r=this.loadedTileCallback.bind(this,n,o);return t.forEachLoadedTile(e,o,i,r)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,i){},e.prototype.getDataAtPixel=function(t,e,n){return Object(l.b)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===y.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=y.a.LOADED&&e!=y.a.ERROR&&Object(b.a)(t,O.a.CHANGE,this.handleImageChange_,this),e==y.a.IDLE&&(t.load(),e=t.getState()),e==y.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==E.a.READY&&t.changed()},e}(m.a),T=n(6),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),R=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=Object(T.c)(),n.pixelTransform=Object(T.c)(),n.inversePixelTransform=Object(T.c)(),n.context=null,n.containerReused=!1,n}return C(e,t),e.prototype.useContainer=function(t,e,n){var o,i,r=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===r&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(i=s.getContext("2d")));if(i&&i.canvas.style.transform===Object(T.g)(e)?(this.container=t,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(o=document.createElement("div")).className=r;var a=o.style;a.position="absolute",a.width="100%",a.height="100%";var s=(i=Object(d.a)()).canvas;o.appendChild(s),(a=s.style).position="absolute",a.transformOrigin="top left",this.container=o,this.context=i}},e.prototype.clip=function(t,e,n){var o=e.pixelRatio,i=e.size[0]*o/2,r=e.size[1]*o/2,a=e.viewState.rotation,s=Object(f.A)(n),c=Object(f.B)(n),u=Object(f.u)(n),l=Object(f.t)(n);Object(T.a)(e.coordinateToPixelTransform,s),Object(T.a)(e.coordinateToPixelTransform,c),Object(T.a)(e.coordinateToPixelTransform,u),Object(T.a)(e.coordinateToPixelTransform,l),t.save(),Object(v.m)(t,-a,i,r),t.beginPath(),t.moveTo(s[0]*o,s[1]*o),t.lineTo(c[0]*o,c[1]*o),t.lineTo(u[0]*o,u[1]*o),t.lineTo(l[0]*o,l[1]*o),t.clip(),Object(v.m)(t,a,i,r)},e.prototype.clipUnrotated=function(t,e,n){var o=Object(f.A)(n),i=Object(f.B)(n),r=Object(f.u)(n),a=Object(f.t)(n);Object(T.a)(e.coordinateToPixelTransform,o),Object(T.a)(e.coordinateToPixelTransform,i),Object(T.a)(e.coordinateToPixelTransform,r),Object(T.a)(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;Object(T.a)(s,o),Object(T.a)(s,i),Object(T.a)(s,r),Object(T.a)(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var o=this.getLayer();if(o.hasListener(t)){var i=new g.a(t,this.inversePixelTransform,n,e);o.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(_.a.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(_.a.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,n,o){var i=t.viewState,r=e/2,a=n/2,s=t.pixelRatio/i.resolution,c=-s,u=-i.center[0]+o,l=-i.center[1];return Object(T.b)(this.tempTransform_,r,a,s,c,-i.rotation,u,l)},e.prototype.getDataAtPixel=function(t,e,n){var o,i=Object(T.a)(this.inversePixelTransform,t.slice()),r=this.context;try{o=r.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:o}return 0===o[3]?null:o},e}(w),j=n(17),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=Object(f.h)(),n.tmpTileRange_=new h.b(0,0,0,0),n.zDirection=0,n}return S(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),o=e.getUseInterimTilesOnError();return n==p.a.LOADED||n==p.a.EMPTY||n==p.a.ERROR&&!o},e.prototype.getTile=function(t,e,n,o){var i=o.pixelRatio,r=o.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,i,r);return s.getState()==p.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(p.a.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,o){return!!this.isDrawableTile(o)&&t.prototype.loadedTileCallback.call(this,e,n,o)},e.prototype.prepareFrame=function(t){return!0},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],o=t.viewState,i=o.projection,r=o.resolution,a=o.center,s=o.rotation,c=t.pixelRatio,u=this.getLayer(),h=u.getSource(),d=h.getRevision(),g=h.getTileGridForProjection(i),_=void 0===h.zDirection?this.zDirection:h.zDirection,v=g.getZForResolution(r,_),y=g.getResolution(v),m=t.extent;n.extent&&(m=Object(f.z)(m,n.extent));var b=h.getTilePixelRatio(c),O=Math.round(t.size[0]*b),E=Math.round(t.size[1]*b);s&&(O=E=Math.round(Math.sqrt(O*O+E*E)));var x=y*O/2/b,w=y*E/2/b,C=[a[0]-x,a[1]-w,a[0]+x,a[1]+w],R=g.getTileRangeForExtentAndZ(m,v),S={};S[v]={};var P=this.createLoadedTileFinder(h,i,S),A=this.tmpExtent,L=this.tmpTileRange_;this.newTiles_=!1;for(var M=R.minX;M<=R.maxX;++M)for(var I=R.minY;I<=R.maxY;++I){var F=this.getTile(v,M,I,t);if(this.isDrawableTile(F)){var k=Object(l.c)(this);if(F.getState()==p.a.LOADED){S[v][F.tileCoord.toString()]=F;var D=F.inTransition(k);this.newTiles_||!D&&-1!==this.renderedTiles.indexOf(F)||(this.newTiles_=!0)}if(1===F.getAlpha(k,t.time))continue}var N=g.getTileCoordChildTileRange(F.tileCoord,L,A),G=!1;N&&(G=P(v+1,N)),G||g.forEachTileCoordParentTileRange(F.tileCoord,P,L,A)}var z=y/r;Object(T.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/b,1/b,s,-O/2,-E/2),this.useContainer(e,this.pixelTransform,n.opacity);var U=this.context,K=U.canvas;Object(T.d)(this.inversePixelTransform,this.pixelTransform),Object(T.b)(this.tempTransform_,O/2,E/2,z,z,0,-O/2,-E/2),K.width!=O||K.height!=E?(K.width=O,K.height=E):this.containerReused||U.clearRect(0,0,O,E),n.extent&&this.clipUnrotated(U,t,n.extent),this.preRender(U,t),this.renderedTiles.length=0;var X,Z,Y,W=Object.keys(S).map(Number);W.sort(j.e),1!==n.opacity||this.containerReused&&!h.getOpaque(t.viewState.projection)?(X=[],Z=[]):W=W.reverse();for(var V=W.length-1;V>=0;--V){var H=W[V],B=h.getTilePixelSize(H,c,i),q=g.getResolution(H)/y,Q=B[0]*q*z,J=B[1]*q*z,$=g.getTileCoordForCoordAndZ(Object(f.A)(C),H),tt=g.getTileCoordExtent($),et=Object(T.a)(this.tempTransform_,[b*(tt[0]-C[0])/y,b*(C[3]-tt[3])/y]),nt=b*h.getGutterForProjection(i),ot=S[H];for(var it in ot){var rt=(F=ot[it]).tileCoord,at=et[0]-($[1]-rt[1])*Q,st=Math.round(at+Q),ct=et[1]-($[2]-rt[2])*J,ut=Math.round(ct+J),lt=st-(M=Math.round(at)),ht=ut-(I=Math.round(ct)),pt=v===H;if(!(D=pt&&1!==F.getAlpha(Object(l.c)(this),t.time)))if(X){U.save(),Y=[M,I,M+lt,I,M+lt,I+ht,M,I+ht];for(var ft=0,dt=X.length;ft<dt;++ft)if(v!==H&&H<Z[ft]){var gt=X[ft];U.beginPath(),U.moveTo(Y[0],Y[1]),U.lineTo(Y[2],Y[3]),U.lineTo(Y[4],Y[5]),U.lineTo(Y[6],Y[7]),U.moveTo(gt[6],gt[7]),U.lineTo(gt[4],gt[5]),U.lineTo(gt[2],gt[3]),U.lineTo(gt[0],gt[1]),U.clip()}X.push(Y),Z.push(H)}else U.clearRect(M,I,lt,ht);this.drawTileImage(F,t,M,I,lt,ht,nt,pt,n.opacity),X&&!D&&U.restore(),this.renderedTiles.push(F),this.updateUsedTiles(t.usedTiles,h,F)}}this.renderedRevision=d,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!Object(f.n)(this.renderedExtent_,C),this.renderedExtent_=C,this.manageTilePyramid(t,h,g,c,i,m,v,u.getPreload()),this.updateCacheSize_(t,h),this.scheduleExpireCache(t,h),this.postRender(U,t),n.extent&&U.restore();var _t=Object(T.g)(this.pixelTransform);return _t!==K.style.transform&&(K.style.transform=_t),this.container},e.prototype.drawTileImage=function(t,e,n,o,i,r,a,s,c){var u=this.getTileImage(t);if(u){var h=Object(l.c)(this),p=c*(s?t.getAlpha(h,e.time):1),f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,o,i,r),f&&this.context.restore(),1!==p?e.animate=!0:s&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var o=Object(l.c)(t);o in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[o])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var o=Object(l.c)(e);o in t||(t[o]={}),t[o][n.getKey()]=!0},e.prototype.updateCacheSize_=function(t,e){var n=Object(l.c)(e),o=0;n in t.usedTiles&&(o+=Object.keys(t.usedTiles[n]).length),n in t.wantedTiles&&(o+=Object.keys(t.wantedTiles[n]).length);var i=e.tileCache;i.highWaterMark<o&&(i.highWaterMark=o)},e.prototype.manageTilePyramid=function(t,e,n,o,i,r,a,s,c){var u=Object(l.c)(e);u in t.wantedTiles||(t.wantedTiles[u]={});var h,f,d,g,_,v,y=t.wantedTiles[u],m=t.tileQueue;for(v=n.getMinZoom();v<=a;++v)for(f=n.getTileRangeForExtentAndZ(r,v,f),d=n.getResolution(v),g=f.minX;g<=f.maxX;++g)for(_=f.minY;_<=f.maxY;++_)a-v<=s?((h=e.getTile(v,g,_,o,i)).getState()==p.a.IDLE&&(y[h.getKey()]=!0,m.isKeyQueued(h.getKey())||m.enqueue([h,u,n.getTileCoordCenter(h.tileCoord),d])),void 0!==c&&c(h)):e.useTile(v,g,_,i)},e}(R);P.prototype.getLayer;var A=P,L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),M=function(t){function e(e){return t.call(this,e)||this}return L(e,t),e.prototype.createRenderer=function(){return new A(this)},e}(u);e.default=M},function(t,e,n){"use strict";n.r(e);var o=n(34),i=n(48),r=n(32),a=n(58),s=function(t){var e=this;t||(t={}),null==t.typing&&(t.typing=300),this._classname=t.className||"search";var n=(t.className||"")+" ol-search"+(t.target?"":" ol-unselectable ol-control ol-collapsed"),o=a.a.create("DIV",{className:n+" ol-collapsed"});if(t.target||(this.button=document.createElement("BUTTON"),this.button.setAttribute("type","button"),this.button.setAttribute("title",t.label||"search"),this.button.addEventListener("click",function(){if(o.classList.toggle("ol-collapsed"),!o.classList.contains("ol-collapsed")){o.querySelector("input.search").focus();for(var t=o.querySelectorAll("li"),n=0;n<t.length;n++)t[n].classList.remove("select");u.value||e.drawList_()}}),o.appendChild(this.button)),t.inputLabel){var i=document.createElement("LABEL");i.innerText=t.inputLabel,o.appendChild(i)}var s,c="",u=this._input=document.createElement("INPUT");u.setAttribute("type","search"),u.setAttribute("class","search"),u.setAttribute("placeholder",t.placeholder||"Search..."),u.addEventListener("change",function(t){e.dispatchEvent({type:"change:input",input:t,value:u.value})});var l=function(n){var i=o.querySelector("ul.autocomplete li.select"),r=u.value;"ArrowDown"==n.key||"ArrowUp"==n.key||"Down"==n.key||"Up"==n.key?i?(i.classList.remove("select"),(i=/Down/.test(n.key)?i.nextElementSibling:i.previousElementSibling)&&i.classList.add("select")):o.querySelector("ul.autocomplete li").classList.add("select"):"input"!=n.type||r?!i||"search"!=n.type&&"Enter"!=n.key?"search"==n.type||"Enter"==n.key||c!=r&&t.typing>=0?(c=r)?(s&&clearTimeout(s),s=setTimeout(function(){if(c.length>=e.get("minLength")){var t=e.autocomplete(c,function(t){e.drawList_(t)});t&&e.drawList_(t)}else e.drawList_()},t.typing)):e.drawList_():(i=o.querySelector("ul.autocomplete li"))&&i.classList.remove("select"):(o.classList.contains("ol-control")&&u.blur(),i.classList.remove("select"),c=r,e._handleSelect(e._list[i.getAttribute("data-search")])):setTimeout(function(){e.drawList_()},200)};u.addEventListener("keyup",l),u.addEventListener("search",l),u.addEventListener("cut",l),u.addEventListener("paste",l),u.addEventListener("input",l),t.noCollapse||(u.addEventListener("blur",function(){setTimeout(function(){o.classList.add("ol-collapsed")},200)}),u.addEventListener("focus",function(){o.classList.remove("ol-collapsed")})),o.appendChild(u);var h=document.createElement("UL");h.classList.add("autocomplete"),o.appendChild(h),r.a.call(this,{element:o,target:t.target}),"function"==typeof t.getTitle&&(this.getTitle=t.getTitle),"function"==typeof t.autocomplete&&(this.autocomplete=t.autocomplete),this.set("copy",t.copy),this.set("minLength",t.minLength||1),this.set("maxItems",t.maxItems||10),this.set("maxHistory",t.maxHistory||t.maxItems||10),this.restoreHistory(),this.drawList_()};Object(o.a)(s,r.a),s.prototype.getInputField=function(){return this._input},s.prototype.getTitle=function(t){return t.name||"No title"},s.prototype.search=function(){var t=this.element.querySelector("input.search");this._triggerCustomEvent("search",t)},s.prototype._triggerCustomEvent=function(t,e){var n;window.CustomEvent?n=new CustomEvent(t):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,{}),e.dispatchEvent(n)},s.prototype.setInput=function(t,e){var n=this.element.querySelector("input.search");n.value=t,e&&this._triggerCustomEvent("keyup",n)},s.prototype.select=function(t){this.dispatchEvent({type:"select",search:t})},s.prototype._handleSelect=function(t){if(t){var e,n=this.get("history");try{var o=JSON.stringify(t);for(e=n.length-1;e>=0;e--)n[e]&&JSON.stringify(n[e])!==o||n.splice(e,1)}catch(o){for(e=n.length-1;e>=0;e--)n[e]===t&&n.splice(e,1)}for(n.unshift(t);n.length>(this.get("maxHistory")||10);)n.pop();this.saveHistory(),this.select(t)}},s.prototype.saveHistory=function(){if(this.get("maxHistory")>=0)try{localStorage["ol@search-"+this._classname]=JSON.stringify(this.get("history"))}catch(t){}else localStorage.removeItem("ol@search-"+this._classname)},s.prototype.restoreHistory=function(){try{this.set("history",JSON.parse(localStorage["ol@search-"+this._classname]))}catch(t){this.set("history",[])}},s.prototype.clearHistory=function(){this.set("history",[]),this.saveHistory(),this.drawList_()},s.prototype.getHistory=function(){return this.get("history")},s.prototype.autocomplete=function(t,e){return e([]),!1},s.prototype.drawList_=function(t){var e=this,n=this.element.querySelector("ul.autocomplete");if(n.innerHTML="",this._list=[],t)n.setAttribute("class","autocomplete");else{if(this.element.querySelector("input.search").value)return;t=this.get("history"),n.setAttribute("class","autocomplete history")}for(var o,i=Math.min(e.get("maxItems"),t.length),r=0;r<i;r++)if(t[r]&&(!r||!e.equalFeatures(t[r],t[r-1]))){(o=document.createElement("LI")).setAttribute("data-search",this._list.length),this._list.push(t[r]),o.addEventListener("click",function(t){e._handleSelect(e._list[t.currentTarget.getAttribute("data-search")])});var a=e.getTitle(t[r]);a instanceof Element?o.appendChild(a):o.innerHTML=a,n.appendChild(o)}i&&this.get("copy")&&((o=document.createElement("LI")).classList.add("copy"),o.innerHTML=this.get("copy"),n.appendChild(o))},s.prototype.equalFeatures=function(){return!1};var c=s,u=function(t){(t=t||{}).className=t.className||"JSON",delete t.autocomplete,t.minLength=t.minLength||3,t.typing=t.typing||800,c.call(this,t);var e=t.url||"";if("https:"===window.location.protocol){var n=document.createElement("a");n.href=e,n.protocol=window.location.protocol,e=n.href}this.set("url",e),this._auth=t.authentication,"function"==typeof t.handleResponse&&(this.handleResponse=t.handleResponse)};Object(o.a)(u,c),u.prototype.autocomplete=function(t,e){var n=this.requestData(t),o=encodeURI(this.get("url")),i="";for(var r in n)i+=i?"&":"?",n.hasOwnProperty(r)&&(i+=r+"="+encodeURIComponent(n[r]));this.ajax(o+i,function(t){if(t.status>=200&&t.status<400){var n=JSON.parse(t.response);e(this.handleResponse(n))}else console.log(o+i,arguments)},function(){console.log(o+i,arguments)})},u.prototype.ajax=function(t,e,n){var o=this;this._request&&this._request.abort();var i=this._request=new XMLHttpRequest;i.open("GET",t,!0),this._auth&&i.setRequestHeader("Authorization","Basic "+this._auth),this.element.classList.add("searching"),i.onload=function(){o._request=null,o.element.classList.remove("searching"),e.call(o,this)},i.onerror=function(){o._request=null,o.element.classList.remove("searching"),n&&n.call(o)},i.send()},u.prototype.requestData=function(t){return{q:t}},u.prototype.handleResponse=function(t){return t};var l=u,h=function(t){(t=t||{}).className=t.className||"nominatim",t.typing=t.typing||500,t.url=t.url||"https://nominatim.openstreetmap.org/search",t.copy='<a href="http://www.openstreetmap.org/copyright" target="new">&copy; OpenStreetMap contributors</a>',l.call(this,t),this.set("polygon",t.polygon),this.set("viewbox",t.viewbox)};Object(o.a)(h,l),h.prototype.getTitle=function(t){var e=t.display_name+"<i>"+t.class+" - "+t.type+"</i>";return t.icon&&(e="<img src='"+t.icon+"' />"+e),e},h.prototype.requestData=function(t){var e={format:"json",addressdetails:1,q:t,polygon_geojson:this.get("polygon")?1:0,limit:this.get("maxItems")};return this.get("viewbox")&&(e.viewbox=this.get("viewbox")),e},h.prototype.select=function(t){var e=[Number(t.lon),Number(t.lat)];try{e=Object(i.a)(e,"EPSG:4326",this.getMap().getView().getProjection())}catch(t){}this.dispatchEvent({type:"select",search:t,coordinate:e})};e.default=h}]);
//# sourceMappingURL=dist.js.map